/* =====================================
   Jarvis - Universal Tracking System
   Font: Google Sans | Design: Modern & Clean
   ===================================== */

/* CSS Custom Properties - Professional Design Palette */
:root {
  /* Professional Gray Scale */
  --gray-50: #F8F9FA;
  --gray-100: #EBEFF4;
  --gray-200: #E9ECEF;
  --gray-300: #D2D6DA;
  --gray-400: #CED4DA;
  --gray-500: #ADB5BD;
  --gray-600: #6C757D;
  --gray-700: #495057;
  --gray-800: #252F40;
  --gray-900: #141727;
  
  /* White */
  --white: #ffffff;
  
  /* Primary Brand Colors - Neutral & High Contrast */
  --primary-50: #F8F9FA;
  --primary-100: #F1F3F4;
  --primary-200: #E8EAED;
  --primary-300: #DADCE0;
  --primary-400: #BDC1C6;
  --primary-500: #9AA0A6;
  --primary-600: #80868B;
  --primary-700: #5F6368;
  --primary-800: #3C4043;
  --primary-900: #202124;
  
  /* Neutral Colors for Enhanced UI */
  --blue: #1A73E8;
  --blue-light: #E8F0FE;
  --green: #137333;
  --green-light: #E6F4EA;
  --orange: #E8710A;
  --orange-light: #FEF7E0;
  --red: #D93025;
  --red-light: #FCE8E6;
  
  /* Semantic Colors - Neutral & Accessible */
  --success: #137333;
  --success-light: #E6F4EA;
  --success-dark: #0D652D;
  --warning: #E8710A;
  --warning-light: #FEF7E0;
  --warning-dark: #B7540A;
  --error: #D93025;
  --error-light: #FCE8E6;
  --error-dark: #B52D20;
  --info: #1A73E8;
  --info-light: #E8F0FE;
  --info-dark: #1557B0;
  
  /* Accent Colors - Neutral Palette */
  --accent-50: #F8F9FA;
  --accent-100: #F1F3F4;
  --accent-200: #E8EAED;
  --accent-300: #DADCE0;
  --accent-400: #BDC1C6;
  --accent-500: #9AA0A6;
  --accent-600: #80868B;
  --accent-700: #5F6368;
  --accent-800: #3C4043;
  --accent-900: #202124;
  
  /* Professional Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(20, 23, 39, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(20, 23, 39, 0.1), 0 2px 4px -1px rgba(20, 23, 39, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(20, 23, 39, 0.1), 0 4px 6px -2px rgba(20, 23, 39, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(20, 23, 39, 0.1), 0 10px 10px -5px rgba(20, 23, 39, 0.04);
  --shadow-2xl: 0 25px 50px -12px rgba(20, 23, 39, 0.25);
  --shadow-colored: 0 10px 15px -3px rgba(52, 99, 175, 0.1), 0 4px 6px -2px rgba(52, 99, 175, 0.05);
  --shadow-accent: 0 10px 15px -3px rgba(182, 148, 255, 0.1), 0 4px 6px -2px rgba(182, 148, 255, 0.05);
  
  /* Spacing & Borders */
  --border-radius: 16px;
  --border-radius-lg: 20px;
  --border-radius-xl: 24px;
  --border-radius-2xl: 32px;
  
  /* Advanced Transitions */
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-bounce: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  
  /* Solid Colors - No Gradients */
  --color-primary: var(--primary-700);
  --color-accent: var(--accent-600);
  --color-success: var(--success);
  --color-warning: var(--warning);
  --color-error: var(--error);
  --color-info: var(--info);
  --color-neutral: var(--gray-500);
}

/* =====================================
   Base Typography & Layout
   ===================================== */

* {
  box-sizing: border-box;
}

body {
  font-family: 'Google Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-weight: 400;
  line-height: 1.6;
  color: var(--gray-700);
  background-color: var(--gray-50);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;
}


/* Typography Scale */
h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6 {
  font-family: 'Google Sans', sans-serif;
  font-weight: 700;
  line-height: 1.3;
  color: var(--gray-900);
  margin-bottom: 1rem;
}

h1, .h1 { font-size: 2.5rem; font-weight: 800; }
h2, .h2 { font-size: 2rem; font-weight: 700; }
h3, .h3 { font-size: 1.75rem; font-weight: 600; }
h4, .h4 { font-size: 1.5rem; font-weight: 600; }
h5, .h5 { font-size: 1.25rem; font-weight: 600; }
h6, .h6 { font-size: 1.125rem; font-weight: 600; }

.fw-light { font-weight: 300; }
.fw-normal { font-weight: 400; }
.fw-medium { font-weight: 500; }
.fw-semibold { font-weight: 600; }
.fw-bold { font-weight: 700; }
.fw-extrabold { font-weight: 800; }

/* Text Colors */
.text-primary { color: var(--primary-600) !important; }
.text-secondary { color: var(--gray-500) !important; }
.text-success { color: var(--success) !important; }
.text-warning { color: var(--warning) !important; }
.text-danger { color: var(--error) !important; }
.text-info { color: var(--info) !important; }
.text-muted { color: var(--gray-500) !important; }

/* =====================================
   Navigation & Header
   ===================================== */

.navbar {
  background-color: var(--primary-900) !important;
  border-bottom: 1px solid var(--gray-300);
  box-shadow: var(--shadow-md);
  padding: 1rem 0;
  position: relative;
  overflow: visible;
  z-index: 1050;
}

.navbar .navbar-nav {
  overflow: visible;
}

.navbar .dropdown {
  overflow: visible;
}

/* Removed excessive shimmer animation */

.navbar-brand {
  font-size: 1.375rem;
  font-weight: 800;
  color: white !important;
  transition: var(--transition-fast);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.navbar-brand:hover {
  opacity: 0.9;
}

.navbar-brand i {
  color: var(--info);
  font-size: 1.5rem;
}

.nav-link {
  font-weight: 500;
  color: rgba(255, 255, 255, 0.9) !important;
  padding: 0.75rem 1.25rem !important;
  border-radius: 12px;
  transition: var(--transition);
  margin: 0 0.25rem;
  position: relative;
  overflow: hidden;
}

.nav-link:hover,
.nav-link.active {
  background: rgba(255, 255, 255, 0.2);
  color: white !important;
}

.nav-link i {
  opacity: 0.9;
  transition: var(--transition-fast);
}

.nav-link:hover i {
  opacity: 1;
}

/* =====================================
   Cards & Components
   ===================================== */

.card {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-md);
  transition: var(--transition-fast);
  overflow: hidden;
  position: relative;
}

.card:hover {
  box-shadow: var(--shadow-lg);
  border-color: var(--primary-600);
}

.card-header {
  background-color: var(--gray-100);
  border-bottom: 1px solid var(--gray-300);
  padding: 1.25rem 1.5rem;
  font-weight: 600;
  color: var(--gray-900);
  position: relative;
}


.card-body {
  padding: 1.5rem;
}

.card-footer {
  background: var(--gray-50);
  border-top: 1px solid var(--gray-200);
  padding: 1rem 1.5rem;
}

/* Card Variants */
.card.border-success {
  border-color: var(--success);
  box-shadow: 0 0 0 3px var(--success-light);
}

.card.border-primary {
  border-color: var(--primary-500);
  box-shadow: 0 0 0 3px var(--primary-100);
}

.card.border-warning {
  border-color: var(--warning);
  box-shadow: 0 0 0 3px var(--warning-light);
}

.card.border-danger {
  border-color: var(--error);
  box-shadow: 0 0 0 3px var(--error-light);
}

/* =====================================
   Buttons & Interactive Elements
   ===================================== */

.btn {
  font-family: 'Google Sans', sans-serif;
  font-weight: 500;
  padding: 0.75rem 1.5rem;
  border-radius: 10px;
  border: none;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn:hover {
  filter: brightness(1.05);
}

/* Primary Button */
.btn-primary {
  background-color: var(--color-primary);
  color: white;
  box-shadow: var(--shadow-md);
  border: none;
  position: relative;
}

.btn-primary:hover {
  background-color: var(--primary-800);
  box-shadow: var(--shadow-lg);
}

/* Success Button */
.btn-success {
  background-color: var(--success);
  color: white;
  box-shadow: var(--shadow-md);
  border: none;
  position: relative;
}

.btn-success:hover {
  background-color: var(--success-dark);
  box-shadow: var(--shadow-lg);
}

/* Outline Buttons */
.btn-outline-primary {
  border: 2px solid var(--primary-700);
  color: var(--primary-700);
  background: transparent;
}

.btn-outline-primary:hover {
  background: var(--primary-700);
  color: white;
}

.btn-outline-secondary {
  border: 2px solid var(--gray-300);
  color: var(--gray-600);
  background: transparent;
}

.btn-outline-secondary:hover {
  background: var(--gray-600);
  color: white;
}

/* Button Sizes */
.btn-sm {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  border-radius: 8px;
}

.btn-lg {
  padding: 1rem 2rem;
  font-size: 1.125rem;
  border-radius: 12px;
}

/* Button Groups */
.btn-group .btn {
  border-radius: 0;
}

.btn-group .btn:first-child {
  border-top-left-radius: 10px;
  border-bottom-left-radius: 10px;
}

.btn-group .btn:last-child {
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
}

.btn-group .btn:hover {
  transform: none;
  z-index: 1;
}

.btn-group .btn.icon-hover:hover {
  z-index: 2;
}

/* =====================================
   Tables & Data Display
   ===================================== */

.table {
  margin-bottom: 0;
  background: white;
}

.table thead th {
  background-color: var(--gray-100);
  border-bottom: 2px solid var(--gray-300);
  font-weight: 600;
  color: var(--gray-900);
  padding: 1rem;
  position: sticky;
  top: 0;
  z-index: 10;
}

.table tbody td {
  padding: 1rem;
  border-bottom: 1px solid var(--gray-100);
  vertical-align: middle;
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  transition: var(--transition);
}

.table tbody tr:hover {
  background: var(--primary-50);
}

.table tbody tr:hover td {
  color: var(--gray-800);
}

.table-responsive {
  border-radius: var(--border-radius);
  box-shadow: var(--shadow-sm);
  max-height: 70vh;
  overflow-y: auto;
}

/* =====================================
   Dashboard Specific Styles
   ===================================== */

.connection-indicator {
  transition: var(--transition-slow);
  position: relative;
}

.connection-indicator::before {
  content: '';
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
  background: radial-gradient(circle, transparent 40%, var(--success-light) 70%);
  border-radius: 50%;
  opacity: 0;
  transition: var(--transition);
}

.connection-indicator.connected::before {
  opacity: 1;
}

.table-item {
  transition: var(--transition-fast);
  cursor: pointer;
  border-radius: var(--border-radius-lg);
  position: relative;
  overflow: visible;
  z-index: 10;
}

.table-item:hover {
  box-shadow: var(--shadow-lg);
  border-color: var(--primary-300);
}

.table-stats {
  background: linear-gradient(135deg, var(--gray-50), white);
  padding: 1rem;
  border-radius: 10px;
  margin: 1rem 0;
  border: 1px solid var(--gray-200);
  transition: var(--transition);
  position: relative;
  z-index: 1;
}

/* Ensure table stats don't interfere with dropdowns */
.table-item .table-stats {
  z-index: 1 !important;
  position: relative;
}

.table-stats:hover {
  background: linear-gradient(135deg, var(--primary-50), white);
  border-color: var(--primary-200);
}

.activity-chart {
  height: 200px;
  position: relative;
  background: white;
  border-radius: var(--border-radius);
  padding: 1rem;
}

/* =====================================
   Forms & Inputs
   ===================================== */

.form-control {
  font-family: 'Google Sans', sans-serif;
  border: 2px solid var(--gray-200);
  border-radius: 10px;
  padding: 0.75rem 1rem;
  transition: var(--transition);
  background: white;
}

.form-control:focus {
  border-color: var(--primary-700);
  box-shadow: 0 0 0 3px var(--primary-50);
  outline: none;
}

.form-label {
  font-weight: 600;
  color: var(--gray-700);
  margin-bottom: 0.5rem;
}

.form-text {
  color: var(--gray-500);
  font-size: 0.875rem;
}

.form-check-input:checked {
  background-color: var(--primary-500);
  border-color: var(--primary-500);
}

/* Simplified Form Animations */
.form-control:hover {
  border-color: var(--primary-400);
}

.form-control:focus {
  box-shadow: 0 0 0 3px var(--primary-100);
}

.shake {
  transition: var(--transition-fast);
}

/* Floating Label Animation */
.form-floating {
  position: relative;
}

.form-floating .form-control:focus ~ label,
.form-floating .form-control:not(:placeholder-shown) ~ label {
  transform: scale(0.85) translateY(-0.5rem) translateX(0.15rem);
  color: var(--primary-600);
}

/* =====================================
   Login Page - Professional Styles
   ===================================== */

/* Enhanced Background Gradient */
.bg-gradient {
  background: linear-gradient(135deg, var(--primary-600) 0%, var(--accent-600) 50%, var(--primary-800) 100%) !important;
  position: relative;
  overflow: hidden;
}

/* Removed background shimmer animation */

/* Enhanced Logo & Branding */
.brand-logo {
  position: relative;
  display: inline-block;
}

.logo-container {
  position: relative;
  width: 80px;
  height: 80px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

.logo-primary {
  font-size: 3rem;
  color: var(--info);
  transition: var(--transition-fast);
}

.logo-overlay {
  position: absolute;
  top: -5px;
  right: -5px;
  font-size: 1.2rem;
  color: var(--accent-600);
}

.brand-title {
  font-size: 2.5rem;
  color: var(--white);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Mobile Logo */
.mobile-logo {
  position: relative;
  display: inline-block;
}

.mobile-logo-overlay {
  position: absolute;
  top: -5px;
  right: -10px;
  color: var(--accent-500);
}

/* Removed floating background elements */

/* Enhanced Feature Cards - Consolidated */

/* Trust Indicators */
.trust-indicators {
  opacity: 0.8;
}

.trust-item {
  transition: var(--transition);
}

.trust-item:hover {
  opacity: 1;
}

/* Login Container & Card */
.login-container {
  max-width: 480px;
  margin: 0 auto;
}

.login-card {
  border-radius: 24px !important;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  background: rgba(255, 255, 255, 0.98) !important;
  backdrop-filter: blur(20px) !important;
  overflow: hidden;
  position: relative;
}

.login-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--gradient-primary);
}

/* Typography Enhancements */
.login-title {
  font-size: 2rem;
  color: var(--gray-800);
  font-weight: 800;
}

.login-subtitle {
  color: var(--gray-600);
  font-weight: 500;
}

/* Enhanced Form Styling */
.form-group {
  position: relative;
}

.form-group.focused .form-label {
  color: var(--primary-600);
  transform: translateY(-2px);
}

.login-input {
  border: 2px solid var(--gray-200) !important;
  border-radius: 12px !important;
  padding: 16px 20px !important;
  font-size: 1rem !important;
  transition: var(--transition) !important;
  background: rgba(255, 255, 255, 0.8) !important;
}

.login-input:focus {
  border-color: var(--primary-700) !important;
  box-shadow: 0 0 0 4px var(--primary-50) !important;
  background: white !important;
}

.login-input:hover {
  border-color: var(--primary-600) !important;
}

.login-input.is-valid {
  border-color: var(--success) !important;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%2322c55e' d='m2.3 6.73.76-.76-1.47-1.47-.76.76z'/%3e%3c/svg%3e") !important;
}

/* Remove background image for password fields to prevent visual artifacts */
input[type="password"].login-input.is-valid {
  background-image: none !important;
}

.login-input.is-invalid {
  border-color: var(--error) !important;
  box-shadow: 0 0 0 4px var(--error-light) !important;
}

/* Password Input with Toggle */
.password-input-container {
  position: relative;
}

.password-toggle {
  position: absolute;
  top: 50%;
  right: 15px;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: var(--gray-400);
  font-size: 1.1rem;
  cursor: pointer;
  transition: var(--transition);
  z-index: 10;
  padding: 5px;
  border-radius: 6px;
}

.password-toggle:hover {
  color: var(--primary-500);
  background: rgba(59, 130, 246, 0.1);
}

/* Password Strength Indicator */
.password-strength {
  margin-top: 8px;
}

.strength-bar {
  height: 4px;
  background: var(--gray-200);
  border-radius: 2px;
  overflow: hidden;
  margin-bottom: 4px;
}

.strength-fill {
  height: 100%;
  width: 0%;
  transition: width 0.3s ease, background-color 0.3s ease;
  border-radius: 2px;
}

.strength-text {
  font-size: 0.875rem;
  font-weight: 500;
}

/* Modern Toggle Switch */
.remember-me-container {
  padding: 12px 16px;
  background: rgba(59, 130, 246, 0.05);
  border-radius: 12px;
  border: 1px solid rgba(59, 130, 246, 0.1);
}

.toggle-switch {
  position: relative;
  display: inline-block;
  width: 48px;
  height: 24px;
}

.toggle-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.toggle-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--gray-300);
  transition: var(--transition);
  border-radius: 24px;
}

.toggle-slider:before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: var(--transition);
  border-radius: 50%;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.toggle-switch input:checked + .toggle-slider {
  background-color: var(--primary-500);
}

.toggle-switch input:checked + .toggle-slider:before {
  transform: translateX(24px);
}

.toggle-switch:hover .toggle-slider {
  box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
}

/* Login Page Layout */
.login-left-panel {
  background-color: var(--primary-800);
  position: relative;
}

.login-right-panel {
  background-color: var(--gray-50);
  min-height: 100vh;
}

.login-bg-pattern {
  background-image: 
    radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
    radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
  background-size: 30px 30px;
  background-position: 0 0, 15px 15px;
}

.login-card {
  max-width: 480px;
  margin: 0 auto;
  border-radius: 16px !important;
  border: 1px solid var(--gray-200) !important;
  background: var(--white) !important;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1) !important;
}

.login-title {
  color: var(--gray-900);
  font-size: 2rem;
  font-weight: 700;
}

.login-subtitle {
  color: var(--gray-600);
  font-size: 1.1rem;
}

/* Floating Elements for Left Panel */
.floating-elements {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: 1;
}

.floating-element {
  position: absolute;
  width: 80px;
  height: 80px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  animation: float 6s ease-in-out infinite;
}

.floating-element.element-1 {
  top: 20%;
  left: 10%;
  animation-delay: -0.5s;
  width: 60px;
  height: 60px;
}

.floating-element.element-2 {
  top: 60%;
  right: 15%;
  animation-delay: -2s;
  width: 100px;
  height: 100px;
}

.floating-element.element-3 {
  bottom: 30%;
  left: 20%;
  animation-delay: -3.5s;
  width: 40px;
  height: 40px;
}

.floating-element.element-4 {
  top: 80%;
  right: 30%;
  animation-delay: -1s;
  width: 70px;
  height: 70px;
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

/* Feature Cards Row */
.login-left-panel .row.g-4 {
  display: flex;
  align-items: stretch; /* Equal height columns */
}

.login-left-panel .col-4 {
  display: flex;
}

/* Feature Cards */
.feature-card {
  padding: 1.5rem;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: var(--transition);
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  min-height: 200px; /* Minimum height for consistency */
}

.feature-card h6 {
  margin-bottom: 0.75rem !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
  color: white !important;
  min-height: 2.5rem; /* Consistent title height */
  display: flex;
  align-items: center;
  justify-content: center;
}

.feature-card small {
  font-size: 0.85rem !important;
  color: rgba(255, 255, 255, 0.8) !important;
  line-height: 1.4 !important;
  min-height: 1.5rem; /* Consistent description height */
}

.feature-card:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-5px);
}

.feature-card:hover .feature-icon {
  background: rgba(255, 255, 255, 0.35);
  transform: scale(1.1);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
}

.feature-card:hover .feature-icon i {
  transform: scale(1.1);
  color: white !important;
}

.feature-icon {
  width: 60px;
  height: 60px;
  background: rgba(255, 255, 255, 0.25);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.feature-icon i {
  font-size: 1.8rem;
  color: white !important;
  font-weight: 600;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  opacity: 1 !important;
  visibility: visible !important;
}

/* Specific targeting for login page feature icons */
.login-left-panel .feature-icon i {
  color: white !important;
  opacity: 1 !important;
  display: inline-block !important;
  font-family: "Font Awesome 6 Free" !important;
  font-weight: 900 !important;
}

/* Force all FontAwesome icons in feature cards to be visible */
.feature-icon i.fas,
.feature-icon i.fa-lock,
.feature-icon i.fa-rocket,
.feature-icon i.fa-users-cog {
  color: white !important;
  opacity: 1 !important;
  visibility: visible !important;
  display: inline-block !important;
  font-size: 1.8rem !important;
}

/* Ensure lock icon is definitely visible */
.feature-icon .fa-lock::before {
  content: "\f023" !important;
  font-family: "Font Awesome 6 Free" !important;
  font-weight: 900 !important;
  color: white !important;
}

/* CSS Fallback for security icon if FontAwesome fails */
.feature-icon .fa-lock {
  position: relative;
}

.feature-icon .fa-lock::after {
  content: "🔒";
  font-size: 1.8rem;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: block;
  color: white;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  font-family: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif;
  z-index: 2;
}

/* Hide emoji if FontAwesome is working */
.feature-icon .fa-lock[class*="fa-"]::after {
  display: none;
}

/* Logo Styling */
.navbar-logo {
  height: 45px;
  width: auto;
  max-width: 180px;
  filter: brightness(1.1);
  transition: var(--transition);
  object-fit: contain;
}

.navbar-logo:hover {
  filter: brightness(1.2) drop-shadow(0 0 8px rgba(74, 155, 142, 0.4));
  transform: scale(1.05);
}

/* Navbar adjustments for larger logo */
.navbar {
  padding-top: 0.75rem;
  padding-bottom: 0.75rem;
}

.navbar-brand {
  margin-right: 2rem;
}

/* Logout Button Styling */
.logout-btn {
  border: 2px solid rgba(255, 255, 255, 0.3) !important;
  color: white !important;
  font-weight: 600 !important;
  padding: 0.5rem 1rem !important;
  border-radius: 8px !important;
  transition: var(--transition) !important;
  font-size: 0.9rem !important;
  background: rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(10px) !important;
}

.logout-btn:hover {
  background: rgba(255, 255, 255, 0.2) !important;
  border-color: rgba(255, 255, 255, 0.5) !important;
  color: white !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
}

.logout-btn:active {
  transform: translateY(0) !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15) !important;
}

.logout-btn i {
  font-size: 0.9rem;
}

.login-main-logo {
  height: 140px;
  width: auto;
  max-width: 400px;
  filter: brightness(1.05) drop-shadow(0 4px 12px rgba(0, 0, 0, 0.15));
  animation: logoGlow 4s ease-in-out infinite alternate;
  object-fit: contain;
}

.mobile-logo-img {
  height: 80px;
  width: auto;
  max-width: 180px;
  filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.1));
  object-fit: contain;
}

@keyframes logoGlow {
  0% { 
    filter: brightness(1.05) drop-shadow(0 4px 12px rgba(0, 0, 0, 0.15)); 
    transform: scale(1);
  }
  100% { 
    filter: brightness(1.15) drop-shadow(0 6px 20px rgba(74, 155, 142, 0.25)); 
    transform: scale(1.02);
  }
}

/* Mobile Login Styling */
@media (max-width: 991.98px) {
  .login-container {
    padding: 2rem 1rem !important;
  }
  
  .login-card {
    max-width: 100%;
    margin: 1rem;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1) !important;
  }
  
  .login-card .card-body {
    padding: 2rem !important;
  }
  
  .login-title {
    font-size: 1.75rem;
  }
  
  .login-subtitle {
    font-size: 1rem;
  }
  
  .sign-in-btn {
    padding: 14px 20px !important;
    font-size: 1rem !important;
  }
}

@media (max-width: 575.98px) {
  .login-card .card-body {
    padding: 1.5rem !important;
  }
  
  .login-title {
    font-size: 1.5rem;
  }
  
  .mobile-logo {
    margin-bottom: 2rem;
  }
  
  .mobile-logo-img {
    height: 70px;
    max-width: 160px;
  }
  
  .login-main-logo {
    height: 100px;
    max-width: 300px;
  }
  
  .navbar-logo {
    height: 38px;
    max-width: 150px;
  }
  
  .logout-btn {
    padding: 0.4rem 0.8rem !important;
    font-size: 0.85rem !important;
    margin-top: 0.5rem !important;
    margin-left: 0 !important;
  }
  
  .navbar-nav .logout-btn {
    width: 100%;
    text-align: center;
  }
  
  .feature-card {
    padding: 1rem;
  }
}

/* Enhanced Sign In Button */
.sign-in-btn {
  background-color: var(--primary-700) !important;
  color: white !important;
  border: none !important;
  border-radius: 12px !important;
  padding: 16px 24px !important;
  font-weight: 600 !important;
  font-size: 1.1rem !important;
  box-shadow: var(--shadow-md) !important;
  position: relative !important;
  overflow: hidden !important;
  transition: var(--transition) !important;
}

.sign-in-btn::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.sign-in-btn:hover::after {
  width: 300px;
  height: 300px;
}

.sign-in-btn:hover {
  background-color: var(--primary-800) !important;
  box-shadow: var(--shadow-lg) !important;
}

.sign-in-btn:active {
  background-color: var(--primary-900) !important;
  box-shadow: var(--shadow-sm) !important;
}

.sign-in-btn.loading {
  background-color: var(--primary-600) !important;
  box-shadow: var(--shadow-sm) !important;
}

/* Divider */
.divider {
  position: relative;
  text-align: center;
}

.divider::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gray-300), transparent);
}

.divider-text {
  background: rgba(255, 255, 255, 0.98);
  padding: 0 20px;
  position: relative;
  z-index: 1;
}

/* SSO Buttons */
.sso-btn {
  border-radius: 12px !important;
  padding: 12px 16px !important;
  font-weight: 600 !important;
  transition: var(--transition) !important;
  border-width: 2px !important;
  position: relative !important;
  overflow: hidden !important;
}

.google-btn {
  border-color: #db4437 !important;
  color: #db4437 !important;
}

.google-btn:hover {
  background: #db4437 !important;
  color: white !important;
  box-shadow: 0 2px 8px rgba(219, 68, 55, 0.3) !important;
}

.github-btn:hover {
  background: var(--gray-800) !important;
  border-color: var(--gray-800) !important;
  color: white !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

/* Register Link */
.register-link {
  color: var(--primary-600) !important;
  text-decoration: none !important;
  font-weight: 600 !important;
  transition: var(--transition) !important;
}

.register-link:hover {
  color: var(--primary-700) !important;
}

/* Security & Trust Signals */
.security-section {
  opacity: 0.9;
}

.security-badge {
  background: rgba(34, 197, 94, 0.1);
  color: var(--success-dark);
  padding: 8px 16px;
  border-radius: 20px;
  display: inline-flex;
  align-items: center;
  font-size: 0.9rem;
  border: 1px solid rgba(34, 197, 94, 0.2);
}

.footer-links a {
  color: var(--primary-600) !important;
  font-weight: 500;
}

.footer-links a:hover {
  color: var(--primary-700) !important;
}

/* Company Branding */
.company-branding {
  opacity: 0.7;
  transition: var(--transition);
}

.company-branding:hover {
  opacity: 1;
}

/* Alert Enhancements */
.login-alert {
  border-radius: 12px !important;
  border: none !important;
  backdrop-filter: blur(10px) !important;
  transition: var(--transition-fast) !important;
}

/* Form Shake Animation */
.login-form.shake {
  transition: var(--transition-fast);
}

/* Responsive Improvements */
@media (max-width: 768px) {
  .login-container {
    max-width: 100%;
    padding: 1rem;
  }
  
  .login-card .card-body {
    padding: 2rem !important;
  }
  
  .brand-title {
    font-size: 2rem;
  }
  
  .login-title {
    font-size: 1.75rem;
  }
  
  .sso-options .col-6 {
    margin-bottom: 0.5rem;
  }
}

.feature-icon:hover {
  opacity: 0.8;
}

/* =====================================
   Advanced Table Filtering System
   ===================================== */

/* Filter Panel */
.filter-panel {
  border: 1px solid rgba(59, 130, 246, 0.2);
  box-shadow: var(--shadow-md);
  transition: var(--transition);
}

.filter-panel:hover {
  box-shadow: var(--shadow-lg);
}

.filter-panel .card-header {
  background: linear-gradient(135deg, var(--primary-50) 0%, rgba(255, 255, 255, 0.9) 100%);
  border-bottom: 1px solid rgba(59, 130, 246, 0.1);
}

.filter-body {
  background: rgba(248, 250, 252, 0.5);
  backdrop-filter: blur(10px);
}

/* Filter Groups */
.filter-group {
  border: 1px solid var(--gray-200);
  border-radius: var(--border-radius);
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.filter-group::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--gradient-primary);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.filter-group:hover::before {
  opacity: 1;
}

.filter-group:hover {
  border-color: var(--primary-300);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
  transform: translateY(-1px);
}

.filter-group .card-header {
  background: linear-gradient(135deg, var(--gray-50) 0%, white 100%);
  border-bottom: 1px solid var(--gray-200);
  padding: 0.75rem 1rem;
}

/* Conditions */
.condition {
  background: white;
  border-radius: 8px;
  padding: 1rem;
  margin-bottom: 0.5rem;
  border: 1px solid var(--gray-200);
  transition: var(--transition);
  position: relative;
}

.condition:hover {
  border-color: var(--primary-300);
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1);
  transform: translateY(-1px);
}

.condition:last-child {
  margin-bottom: 0;
}

/* Form Controls in Filters */
.filter-panel .form-select,
.filter-panel .form-control {
  border: 2px solid var(--gray-200);
  border-radius: 8px;
  transition: var(--transition);
  font-size: 0.9rem;
}

.filter-panel .form-select:focus,
.filter-panel .form-control:focus {
  border-color: var(--primary-500);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.filter-panel .form-select:hover,
.filter-panel .form-control:hover {
  border-color: var(--primary-300);
}

/* Group Logic Selector */
.group-logic {
  width: 120px;
  font-size: 0.8rem;
  padding: 0.25rem 0.5rem;
}

/* Value Input Container */
.value-input-container {
  position: relative;
}

.condition-value,
.condition-value-min,
.condition-value-max {
  font-family: 'Google Sans', monospace;
}

/* Suggestion Badges */
.suggestion-badge {
  cursor: pointer;
  transition: var(--transition);
}

.suggestion-badge:hover {
  background: var(--primary-100) !important;
  color: var(--primary-700) !important;
}

/* Table Data Card */
.table-data-card {
  border: 1px solid rgba(59, 130, 246, 0.2);
  box-shadow: var(--shadow-lg);
  position: relative;
  overflow: hidden;
}

.table-data-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--gradient-primary);
}

/* Enhanced Table Styling */
#dataTable {
  font-size: 0.9rem;
}

#dataTable .table-dark {
  background: linear-gradient(135deg, var(--gray-800) 0%, var(--gray-900) 100%);
  border-bottom: 2px solid var(--primary-500);
}

.column-header {
  position: relative;
  cursor: pointer;
  transition: var(--transition);
}

.column-header:hover {
  background: rgba(255, 255, 255, 0.1) !important;
}

.column-actions {
  opacity: 0;
  transition: var(--transition);
}

.column-header:hover .column-actions {
  opacity: 1;
}

.column-filter-btn,
.column-sort-btn {
  border: none !important;
  padding: 0.25rem 0.4rem !important;
  font-size: 0.7rem !important;
  margin-left: 0.25rem;
  border-radius: 4px !important;
}

.column-filter-btn:hover,
.column-sort-btn:hover {
  background: rgba(255, 255, 255, 0.2) !important;
}

/* Data Cells */
.data-row {
  transition: var(--transition-fast);
}

.data-row:hover {
  background: rgba(59, 130, 246, 0.05) !important;
}

.row-number {
  font-weight: 600;
  color: var(--gray-500);
  text-align: center;
  background: rgba(248, 250, 252, 0.8);
  border-right: 2px solid var(--gray-200);
}

.data-cell {
  font-family: 'Google Sans', monospace;
  font-size: 0.85rem;
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  position: relative;
}

.data-cell:hover {
  overflow: visible;
  white-space: normal;
  word-wrap: break-word;
  background: rgba(59, 130, 246, 0.1);
  z-index: 10;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.null-value {
  background: rgba(239, 68, 68, 0.1);
  color: var(--error);
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
}

.empty-value {
  background: rgba(245, 158, 11, 0.1);
  color: var(--warning);
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
}

.cell-content {
  display: block;
  transition: var(--transition);
}

/* Pagination */
.pagination {
  gap: 0.25rem;
}

.page-link {
  border: 2px solid var(--gray-200);
  border-radius: 8px !important;
  color: var(--primary-700);
  font-weight: 500;
  transition: var(--transition);
  margin: 0 0.1rem;
}

.page-link:hover {
  background: var(--primary-50);
  border-color: var(--primary-600);
  color: var(--primary-900);
}

.page-item.active .page-link {
  background: var(--gradient-primary);
  border-color: var(--primary-700);
  box-shadow: 0 2px 4px rgba(52, 99, 175, 0.3);
}

/* Loading Spinner */
#loadingSpinner {
  backdrop-filter: blur(5px);
}

#loadingSpinner .spinner-border {
  width: 3rem;
  height: 3rem;
  border-width: 0.3rem;
}

/* Filter Count Badge */
#filterCountBadge {
  background: var(--gradient-accent) !important;
}

/* Modal Enhancements */
.modal-content {
  border-radius: var(--border-radius-lg);
  border: none;
  box-shadow: var(--shadow-2xl);
  backdrop-filter: blur(20px);
}

.modal-header {
  background: linear-gradient(135deg, var(--primary-50) 0%, rgba(255, 255, 255, 0.9) 100%);
  border-bottom: 1px solid rgba(59, 130, 246, 0.1);
  border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
}

.modal-body {
  background: rgba(255, 255, 255, 0.95);
}

.modal-footer {
  background: rgba(248, 250, 252, 0.8);
  border-top: 1px solid var(--gray-200);
  border-radius: 0 0 var(--border-radius-lg) var(--border-radius-lg);
}

/* Quick Filter Suggestions */
#quickFilterSuggestions .suggestion-badge {
  background: var(--gray-100) !important;
  color: var(--gray-700) !important;
  border: 1px solid var(--gray-300);
  transition: var(--transition);
}

#quickFilterSuggestions .suggestion-badge:hover {
  background: var(--primary-100) !important;
  color: var(--primary-700) !important;
  border-color: var(--primary-300);
}

/* Action Buttons */
.filter-panel .btn {
  border-radius: 8px;
  font-weight: 500;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.filter-panel .btn:hover {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

/* Export and Action Buttons */
.card-header .btn-group .btn {
  border-radius: 6px;
  font-size: 0.85rem;
  padding: 0.4rem 0.8rem;
}

.table-data-card .btn-success {
  background-color: var(--success);
  color: white;
  border: none;
  box-shadow: var(--shadow-md);
}

.table-data-card .btn-success:hover {
  background-color: var(--success-dark);
  box-shadow: var(--shadow-lg);
}

/* Data Info Badge */
#dataInfo .badge {
  transition: var(--transition-fast);
}

/* Responsive Design for Filters */
@media (max-width: 768px) {
  .filter-panel .card-header {
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .condition {
    padding: 0.75rem;
  }
  
  .condition .row > div {
    margin-bottom: 0.5rem;
  }
  
  .table-responsive {
    font-size: 0.8rem;
  }
  
  .data-cell {
    max-width: 120px;
  }
  
  .column-actions {
    opacity: 1; /* Always show on mobile */
  }
}

@media (max-width: 576px) {
  .filter-panel .btn-group {
    flex-direction: column;
    width: 100%;
  }
  
  .filter-panel .btn-group .btn {
    margin-bottom: 0.25rem;
  }
  
  .card-header .d-flex {
    flex-direction: column;
    gap: 0.75rem;
  }
}

/* Feature icon styles moved to main login section above */

.z-index-1 {
  z-index: 1;
}

/* =====================================
   Alerts & Notifications
   ===================================== */

.alert {
  border: none;
  border-radius: var(--border-radius);
  padding: 1rem 1.5rem;
  font-weight: 500;
  box-shadow: var(--shadow-sm);
}

.alert-success {
  background-color: var(--success-light);
  color: var(--success-dark);
  border-left: 4px solid var(--success);
}

.alert-danger {
  background-color: var(--error-light);
  color: var(--error-dark);
  border-left: 4px solid var(--error);
}

.alert-warning {
  background-color: var(--warning-light);
  color: var(--warning-dark);
  border-left: 4px solid var(--warning);
}

.alert-info {
  background-color: var(--info-light);
  color: var(--info-dark);
  border-left: 4px solid var(--info);
}

/* =====================================
   Loading & Animation States
   ===================================== */

.spinner-border {
  width: 1.5rem;
  height: 1.5rem;
  border-width: 2px;
}

.spinner-border-sm {
  width: 1rem;
  height: 1rem;
  border-width: 2px;
}

/* Removed excessive keyframe animations */

/* =====================================
   Modals & Overlays
   ===================================== */

.modal-content {
  border: none;
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-xl);
  overflow: hidden;
}

.modal-header {
  background-color: var(--gray-100);
  border-bottom: 1px solid var(--gray-300);
  padding: 1.5rem;
}

.modal-body {
  padding: 1.5rem;
}

.modal-footer {
  background: var(--gray-50);
  border-top: 1px solid var(--gray-200);
  padding: 1rem 1.5rem;
}

/* Password Reset Modal Enhancements */
#passwordResetModal .modal-header {
  background: linear-gradient(135deg, var(--primary-50) 0%, var(--primary-100) 100%);
  border-bottom: 1px solid var(--primary-200);
}

#passwordResetModal .modal-title {
  color: var(--primary-700);
  font-weight: 600;
}

#passwordResetModal .form-check-label strong {
  color: var(--gray-700);
}

#passwordResetModal .input-group .btn-outline-secondary {
  border-color: var(--gray-300);
  color: var(--gray-600);
}

#passwordResetModal .input-group .btn-outline-secondary:hover {
  background-color: var(--gray-100);
  border-color: var(--gray-400);
  color: var(--gray-700);
}

#passwordResetModal .progress {
  background-color: var(--gray-200);
  border-radius: 10px;
}

#passwordResetModal .alert-info {
  background-color: var(--info-light);
  border-color: var(--info);
  color: var(--info-dark);
  border-left: 4px solid var(--info);
}

/* =====================================
   Badges & Status Indicators
   ===================================== */

.badge {
  font-family: 'Google Sans', sans-serif;
  font-weight: 600;
  padding: 0.5rem 0.75rem;
  border-radius: 8px;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.badge.bg-success {
  background-color: var(--success) !important;
  color: white;
}

.badge.bg-primary {
  background-color: var(--primary-700) !important;
  color: white;
}

.badge.bg-warning {
  background-color: var(--warning) !important;
  color: white;
}

.badge.bg-danger {
  background-color: var(--error) !important;
  color: white;
}

/* =====================================
   Dropdown & Navigation
   ===================================== */

.dropdown-menu {
  border: none;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow-lg);
  padding: 0.5rem;
  background: white;
  z-index: 9999 !important;
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  min-width: 200px !important;
}

.dropdown-item {
  border-radius: 8px;
  padding: 0.75rem 1rem;
  transition: var(--transition);
  font-weight: 500;
}

.dropdown-item:hover {
  background: var(--primary-50);
  color: var(--primary-700);
}

.dropdown-divider {
  margin: 0.5rem 0;
  border-color: var(--gray-200);
}

/* Dropdown toggle positioning */
.dropdown {
  position: relative !important;
}

.dropdown-toggle {
  position: relative !important;
  z-index: 1000 !important;
}

/* General dropdown menu styling */
.dropdown-menu {
  border: none;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow-lg);
  padding: 0.5rem;
  background: white;
  z-index: 1000;
}

.dropdown-menu.show {
  display: block;
  z-index: 1000;
}

/* Ensure dropdown container doesn't clip content */
.dropdown {
  position: relative !important;
  z-index: 1000 !important;
}

.navbar .dropdown {
  position: relative !important;
  z-index: 10000 !important;
}

/* Force dropdown to appear above everything */
.dropdown-menu.show {
  z-index: 99999 !important;
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: auto !important;
  bottom: auto !important;
  transform: none !important;
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
}

/* Specific dropdown menu z-index fixes only */
.navbar .dropdown-menu {
  z-index: 99999 !important;
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: auto !important;
  margin-top: 0.125rem !important;
  background: white !important;
  border: 1px solid rgba(0, 0, 0, 0.15) !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.175) !important;
  min-width: 200px !important;
  padding: 0.5rem !important;
}

.navbar .dropdown-menu.show {
  z-index: 99999 !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.navbar .dropdown-menu .dropdown-item {
  z-index: 99999 !important;
  position: relative !important;
}

/* Additional fix for user dropdown menu */
.nav-item.dropdown .dropdown-menu {
  z-index: 99999 !important;
  position: absolute !important;
  transform: none !important;
  will-change: auto !important;
}

.nav-item.dropdown:hover .dropdown-menu,
.nav-item.dropdown.show .dropdown-menu {
  z-index: 99999 !important;
  display: block !important;
}

/* Override Bootstrap inline styles specifically */
.dropdown-menu[style*="z-index"] {
  z-index: 99999 !important;
}

.dropdown-menu.show[style] {
  z-index: 99999 !important;
}

/* Force override any inline z-index */
ul.dropdown-menu.show {
  z-index: 99999 !important;
}

/* Ultra-specific selectors to override Bootstrap inline styles */
.navbar .nav-item.dropdown ul.dropdown-menu.show[style] {
  z-index: 99999 !important;
}

.navbar ul.dropdown-menu[data-bs-popper] {
  z-index: 99999 !important;
}

.navbar ul.dropdown-menu[style*="z-index"] {
  z-index: 99999 !important;
}

/* Override Bootstrap Popper.js inline styles */
[data-bs-popper].dropdown-menu {
  z-index: 99999 !important;
}

/* Fix dropdown clipping in cards and containers */
.card .dropdown,
.table-item .dropdown,
.card-body .dropdown,
.user-card .dropdown {
  position: relative !important;
  overflow: visible !important;
  z-index: 1000 !important;
}

.card .dropdown-menu,
.table-item .dropdown-menu,
.card-body .dropdown-menu,
.user-card .dropdown-menu {
  position: absolute !important;
  z-index: 99999 !important;
  left: auto !important;
  right: 0 !important;
  top: 100% !important;
  transform: none !important;
  margin-top: 0.125rem !important;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25) !important;
  border: 1px solid rgba(0, 0, 0, 0.15) !important;
}

/* Specific fixes for user management cards */
.user-card {
  position: relative !important;
  overflow: visible !important;
  z-index: 1 !important;
}

.user-card:hover {
  z-index: 1001 !important;
}

.user-card .dropdown.show {
  z-index: 1002 !important;
}

.user-card .dropdown-menu.show {
  z-index: 99999 !important;
  position: absolute !important;
  right: 0 !important;
  left: auto !important;
  top: 100% !important;
  transform: none !important;
}

/* Ensure card containers don't clip dropdowns while maintaining layout */
.card.table-item,
.card.user-card {
  overflow: visible !important;
  position: relative;
  z-index: 10;
}

.card-body {
  overflow: visible !important;
  position: relative;
}

/* Ensure parent containers don't clip user card dropdowns */
.user-list-container,
.tab-pane,
.container-fluid {
  overflow: visible !important;
  position: relative;
}

/* User list container with smart overflow handling */
#userList {
  position: relative;
  overflow: visible;
  min-height: 200px;
  max-height: 70vh;
  padding-bottom: 150px; /* Extra space at bottom for dropdowns */
}

/* When dropdown is open, ensure enough space */
#userList:has(.dropdown-menu.show) {
  overflow: visible !important;
  padding-bottom: 200px;
}

/* Alternative fallback - if :has() is not supported */
#userList.dropdown-open {
  overflow: visible !important;
  padding-bottom: 200px;
}

/* Specific styling for user cards */
.user-list .card,
[class*="user"] .card,
.user-item {
  position: relative !important;
  overflow: visible !important;
  z-index: 1;
}

.user-list .card:hover,
[class*="user"] .card:hover,
.user-item:hover {
  z-index: 1001;
}

.user-list .card .dropdown.show,
[class*="user"] .card .dropdown.show,
.user-item .dropdown.show {
  z-index: 1002;
}

/* User item specific dropdown fixes */
.user-item .dropdown {
  position: relative !important;
  overflow: visible !important;
  z-index: 1000 !important;
}

.user-item .dropdown-menu {
  position: absolute !important;
  z-index: 99999 !important;
  left: auto !important;
  right: 0 !important;
  top: 100% !important;
  transform: none !important;
  margin-top: 0.125rem !important;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25) !important;
  border: 1px solid rgba(0, 0, 0, 0.15) !important;
  min-width: 180px !important;
  max-height: 300px !important;
  overflow-y: auto !important;
}

/* Support for dropup (dropdown appearing above) */
.user-item .dropdown-menu[style*="bottom: 100%"] {
  box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.25) !important;
  border-radius: 0.375rem !important;
}

/* Maintain proper card header alignment */
.card-body .d-flex {
  position: relative;
  z-index: 1;
}

.card-title {
  flex: 1;
}

/* Specific fixes for table card dropdown alignment */
.table-item .card-body .d-flex.justify-content-between {
  align-items: flex-start !important;
  gap: 0.75rem;
}

.table-item .dropdown-toggle {
  flex-shrink: 0;
  margin-left: auto;
  min-width: auto;
  width: auto;
}

/* Ensure dropdown button stays in place */
.table-item .dropdown {
  align-self: flex-start;
  flex-shrink: 0;
}

/* Handle long table names with proper truncation */
.table-item .card-title {
  flex: 1;
  min-width: 0; /* Allow flex item to shrink */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: calc(100% - 50px); /* Reserve space for dropdown button */
  padding-right: 0.5rem;
}

/* Tooltip for truncated table names */
.table-item .card-title[title] {
  cursor: help;
}

/* Alternative: Allow table names to wrap to multiple lines */
.table-item .card-title.wrap-text {
  white-space: normal;
  word-break: break-word;
  line-height: 1.2;
}

/* For very long table names, show on multiple lines on smaller screens */
@media (max-width: 768px) {
  .table-item .card-title {
    white-space: normal;
    word-break: break-word;
    max-width: calc(100% - 40px);
    line-height: 1.3;
  }
}

/* Ensure minimum card height to accommodate wrapped text */
.table-item {
  min-height: 200px;
  position: relative;
  z-index: 1000;
}

/* Ensure table cards container allows dropdowns to overflow */
#tablesContainer {
  overflow: visible !important;
  position: relative;
  z-index: 1;
}

/* Ensure table card body doesn't clip dropdowns */
.table-item .card-body {
  overflow: visible !important;
  position: relative;
  z-index: 1000;
}

/* Ensure table card dropdown container has proper z-index */
.table-item .dropdown {
  position: relative !important;
  z-index: 1001 !important;
  overflow: visible !important;
}

.table-item .card-body {
  min-height: 150px;
}

/* Additional dropdown visibility fixes */
.dropdown-menu {
  min-width: 200px !important;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.175) !important;
  border: 1px solid rgba(0, 0, 0, 0.15) !important;
  border-radius: 0.375rem !important;
}

/* Ensure dropdowns are always above other content */
.dropdown.show .dropdown-menu {
  display: block !important;
  z-index: 99999 !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: absolute !important;
}

/* Fix for Bootstrap's Popper positioning issues */
.dropdown-menu[data-bs-popper] {
  left: auto !important;
  right: 0 !important;
  top: 100% !important;
  transform: none !important;
}

/* Refined dropdown positioning for table cards */
.table-item .dropdown-menu {
  margin-top: 0.25rem !important;
  min-width: 160px !important;
  right: 0 !important;
  left: auto !important;
  z-index: 999999 !important;
  position: absolute !important;
  top: 100% !important;
  transform: none !important;
  will-change: auto !important;
}

/* Ensure table card dropdowns appear above stats section */
.table-item .dropdown.show .dropdown-menu {
  z-index: 999999 !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
}

/* Override Bootstrap's Popper positioning */
.table-item .dropdown-menu[data-bs-popper] {
  z-index: 999999 !important;
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
}

/* Force dropdown to appear above everything */
.table-item .dropdown-menu.show {
  z-index: 999999 !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
}

/* Override any inline styles from Bootstrap */
.table-item .dropdown-menu[style] {
  z-index: 999999 !important;
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
}

/* Ultra-specific override for Bootstrap Popper */
.table-item .dropdown-menu[data-bs-popper][style] {
  z-index: 999999 !important;
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
}

/* CRITICAL: Force dropdown-menu show to appear above table-stats */
.dropdown-menu.show {
  z-index: 999999 !important;
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Even more specific for table items */
.table-item .dropdown-menu.show {
  z-index: 999999 !important;
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Override any possible table-stats interference */
.table-stats + .dropdown-menu.show,
.table-stats ~ .dropdown-menu.show,
.dropdown-menu.show {
  z-index: 999999 !important;
  position: absolute !important;
}

/* ULTRA-SPECIFIC: Target the exact class combination mentioned */
.dropdown-menu.show {
  z-index: 999999 !important;
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Force ALL dropdown-menu.show elements above table-stats */
body .dropdown-menu.show {
  z-index: 999999 !important;
  position: absolute !important;
}

/* Nuclear option - override everything */
html body .dropdown-menu.show {
  z-index: 999999 !important;
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* CRITICAL FIX: Create new stacking context for dropdown container */
.table-item .dropdown {
  position: relative !important;
  z-index: 1000 !important;
  isolation: isolate !important;
}

/* Force dropdown to create its own stacking context */
.table-item .dropdown-menu {
  position: fixed !important;
  z-index: 999999 !important;
  transform: none !important;
  will-change: auto !important;
}

/* When dropdown is shown, position it absolutely relative to viewport */
.table-item .dropdown-menu.show {
  position: fixed !important;
  z-index: 999999 !important;
  top: auto !important;
  right: auto !important;
  left: auto !important;
  transform: none !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Ensure table-stats stays below dropdown */
.table-item .table-stats {
  position: relative !important;
  z-index: 1 !important;
  isolation: isolate !important;
}

/* Fixed dropdown positioning - completely separate from normal flow */
.dropdown-fixed {
  position: relative !important;
  z-index: 10000 !important;
  isolation: isolate !important;
}

.dropdown-menu-fixed {
  position: fixed !important;
  z-index: 999999 !important;
  top: auto !important;
  right: auto !important;
  left: auto !important;
  transform: none !important;
  will-change: auto !important;
}

.dropdown-menu-fixed.show {
  position: fixed !important;
  z-index: 999999 !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* External dropdown - positioned outside card-body */
.dropdown-external {
  position: absolute !important;
  top: 10px !important;
  right: 10px !important;
  z-index: 10000 !important;
  isolation: isolate !important;
}

.dropdown-menu-external {
  position: absolute !important;
  z-index: 999999 !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
  will-change: auto !important;
  min-width: 160px !important;
  margin-top: 0.25rem !important;
}

.dropdown-menu-external.show {
  position: absolute !important;
  z-index: 999999 !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
}

/* Ensure external dropdown appears above everything */
.table-item .dropdown-external {
  position: absolute !important;
  top: 10px !important;
  right: 10px !important;
  z-index: 10000 !important;
}

.table-item .dropdown-menu-external {
  position: absolute !important;
  z-index: 999999 !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
}

/* Override Bootstrap's positioning for external dropdowns */
.table-item .dropdown-external .dropdown-menu-external {
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
  will-change: auto !important;
}

.table-item .dropdown-external .dropdown-menu-external.show {
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  left: auto !important;
  transform: none !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Ensure dropdown toggle button has proper spacing */
.table-item .dropdown-toggle {
  padding: 0.375rem 0.75rem;
  border: 1px solid #6c757d;
  border-radius: 0.375rem;
  white-space: nowrap;
  flex-shrink: 0;
}

/* Improved card layout for consistent spacing */
.table-item .card-body {
  padding: 1rem;
  display: flex;
  flex-direction: column;
}

.table-item .card-body .d-flex.justify-content-between {
  width: 100%;
  max-width: 100%;
  overflow: hidden;
}

/* Ensure icon doesn't cause overflow */
.table-item .card-title i {
  flex-shrink: 0;
}

/* =====================================
   Dashboard Styles
   ===================================== */

/* Dashboard specific styles */
.text-gradient {
    background: linear-gradient(135deg, #667eea, #764ba2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.floating {
    animation: floating 3s ease-in-out infinite;
}

@keyframes floating {
    0% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-10px);
    }
    100% {
        transform: translateY(0px);
    }
}

.pulse-glow {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7);
    }
    70% {
        box-shadow: 0 0 0 10px rgba(40, 167, 69, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(40, 167, 69, 0);
    }
}

.connection-indicator.connected {
    color: #28a745 !important;
}

.connection-indicator.disconnected {
    color: #dc3545 !important;
}

.icon-hover:hover {
    transform: translateY(-2px);
    transition: transform 0.3s ease;
}

.table-card {
    transition: all 0.3s ease;
}

.table-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
}

/* =====================================
   User Menu Side Panel
   ===================================== */

/* User Menu Toggle Button */
.user-menu-toggle {
  background: rgba(255, 255, 255, 0.1) !important;
  border-radius: 10px !important;
  padding: 0.6rem 1rem !important;
  transition: all 0.3s ease !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  text-decoration: none !important;
  backdrop-filter: blur(10px) !important;
}

.user-menu-toggle:hover {
  background: rgba(255, 255, 255, 0.2) !important;
  border-color: rgba(255, 255, 255, 0.4) !important;
  color: white !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

.user-menu-wrapper {
  display: flex;
  align-items: center;
  gap: 0.6rem;
}

.user-menu-icon {
  font-size: 1.3rem;
  color: white;
}

.user-menu-text {
  font-weight: 600;
  color: white;
  font-size: 0.9rem;
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.panel-caret {
  font-size: 0.7rem;
  color: rgba(255, 255, 255, 0.8);
  transition: transform 0.3s ease;
}

.user-menu-toggle.active .panel-caret {
  transform: rotate(180deg);
}

/* Overlay */
.user-panel-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  z-index: 9998;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.user-panel-overlay.active {
  opacity: 1;
  visibility: visible;
}

/* Side Panel */
.user-side-panel {
  position: fixed;
  top: 0;
  right: 0;
  width: 400px;
  height: 100vh;
  background: var(--white);
  box-shadow: -10px 0 30px rgba(0, 0, 0, 0.15);
  z-index: 9999;
  transform: translateX(100%);
  transition: transform 0.3s ease;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}

.user-side-panel.active {
  transform: translateX(0);
}

/* Panel Header */
.user-panel-header {
  padding: 1.5rem;
  background: linear-gradient(135deg, var(--primary-600) 0%, var(--primary-700) 100%);
  color: white;
  display: flex;
  justify-content: between;
  align-items: center;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.panel-title {
  font-size: 1.2rem;
  font-weight: 700;
  flex: 1;
}

.panel-close-btn {
  background: rgba(255, 255, 255, 0.1) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  color: white !important;
  width: 40px;
  height: 40px;
  border-radius: 8px !important;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease !important;
}

.panel-close-btn:hover {
  background: rgba(255, 255, 255, 0.2) !important;
  border-color: rgba(255, 255, 255, 0.4) !important;
  color: white !important;
}

/* User Profile Section */
.user-profile-section {
  padding: 2rem 1.5rem;
  background: linear-gradient(135deg, var(--primary-50) 0%, var(--primary-100) 100%);
  border-bottom: 1px solid var(--gray-200);
}

.user-profile-info {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.user-avatar {
  position: relative;
}

.user-avatar i {
  font-size: 3.5rem;
  color: var(--primary-600);
  background: var(--white);
  border-radius: 50%;
  padding: 0.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.user-details {
  flex: 1;
}

.user-name {
  font-weight: 700;
  color: var(--gray-900);
  font-size: 1.2rem;
  margin-bottom: 0.5rem;
}

.user-role {
  font-size: 0.85rem;
  color: var(--primary-700);
  font-weight: 600;
  background: var(--primary-100);
  padding: 0.25rem 0.75rem;
  border-radius: 12px;
  display: inline-block;
  margin-bottom: 0.75rem;
}

.user-status {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.85rem;
  color: var(--gray-600);
  font-weight: 500;
}

.status-indicator {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--success);
  box-shadow: 0 0 0 3px var(--success-light);
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { box-shadow: 0 0 0 0 var(--success); }
  70% { box-shadow: 0 0 0 8px rgba(34, 197, 94, 0); }
  100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
}

/* Panel Content */
.user-panel-content {
  flex: 1;
  padding: 1.5rem 0;
}

/* Menu Sections */
.menu-section {
  margin-bottom: 2rem;
}

.menu-section-title {
  font-size: 0.75rem;
  font-weight: 700;
  color: var(--gray-500);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 0 1.5rem 0.75rem;
}

.menu-items {
  display: flex;
  flex-direction: column;
}

/* Panel Menu Items */
.panel-menu-item {
  padding: 1rem 1.5rem;
  color: var(--gray-700);
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 1rem;
  transition: all 0.3s ease;
  position: relative;
  border-left: 4px solid transparent;
}

.panel-menu-item:hover {
  background: var(--gray-50);
  color: var(--gray-900);
  border-left-color: var(--primary-500);
  text-decoration: none;
}

.panel-menu-item i {
  width: 20px;
  color: var(--gray-500);
  transition: all 0.3s ease;
  font-size: 1.1rem;
}

.panel-menu-item:hover i {
  color: var(--primary-600);
  transform: scale(1.1);
}

.menu-item-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.menu-item-title {
  font-weight: 600;
  font-size: 0.95rem;
  line-height: 1.2;
}

.menu-item-desc {
  font-size: 0.8rem;
  color: var(--gray-500);
  font-weight: 400;
  line-height: 1.2;
}

.panel-menu-item:hover .menu-item-desc {
  color: var(--gray-600);
}

.item-arrow {
  color: var(--gray-400);
  font-size: 0.8rem;
  transition: all 0.3s ease;
}

.panel-menu-item:hover .item-arrow {
  color: var(--primary-500);
  transform: translateX(4px);
}

/* Logout Item Special Styling */
.logout-panel-item {
  border-top: 1px solid var(--gray-200);
  margin-top: 1rem;
}

.logout-panel-item:hover {
  background: var(--error-light);
  color: var(--error-dark);
  border-left-color: var(--error);
}

.logout-panel-item i {
  color: var(--error);
}

.logout-panel-item:hover i {
  color: var(--error-dark);
}

.logout-panel-item .menu-item-desc {
  color: var(--error);
}

.logout-panel-item:hover .menu-item-desc {
  color: var(--error-dark);
}

.logout-panel-item:hover .item-arrow {
  color: var(--error);
}

/* Mobile Responsive */
@media (max-width: 575.98px) {
  .user-side-panel {
    width: 100%;
    max-width: 400px;
  }
  
  .user-menu-toggle {
    padding: 0.5rem 0.8rem !important;
  }
  
  .user-menu-text {
    font-size: 0.85rem;
    max-width: 100px;
  }
  
  .user-menu-icon {
    font-size: 1.2rem;
  }
  
  .user-profile-section {
    padding: 1.5rem;
  }
  
  .user-avatar i {
    font-size: 3rem;
  }
  
  .user-name {
    font-size: 1.1rem;
  }
}


/* =====================================
   Progress & Loading States
   ===================================== */

.progress {
  height: 8px;
  border-radius: 20px;
  background: var(--gray-200);
  overflow: hidden;
}

.progress-bar {
  background-color: var(--primary-700);
  border-radius: 20px;
  transition: width 0.6s ease;
}

/* =====================================
   List Groups & Data Lists
   ===================================== */

.list-group-item {
  border: 1px solid var(--gray-200);
  border-radius: var(--border-radius) !important;
  margin-bottom: 0.5rem;
  transition: var(--transition-slow);
  background: white;
}

.list-group-item:hover {
  box-shadow: var(--shadow-md);
  background: var(--primary-50);
  border-color: var(--primary-400);
}

.list-group-item.list-group-item-action {
  cursor: pointer;
}

/* =====================================
   Toast Notifications
   ===================================== */

.toast-container {
  z-index: 1055;
}

.toast {
  border-radius: var(--border-radius);
  box-shadow: var(--shadow-lg);
  backdrop-filter: blur(10px);
}

/* =====================================
   Responsive Design
   ===================================== */

@media (max-width: 768px) {
  .container {
    padding: 0 1rem;
  }
  
  .card-body {
    padding: 1rem;
  }
  
  .table-responsive {
    max-height: 50vh;
  }
  
  .btn {
    padding: 0.625rem 1.25rem;
  }
  
  h1, .h1 { font-size: 2rem; }
  h2, .h2 { font-size: 1.75rem; }
  h3, .h3 { font-size: 1.5rem; }
  
  .navbar-brand {
    font-size: 1.25rem;
  }
  
  .table-stats .row .col-4 {
    margin-bottom: 0.5rem;
  }
}

@media (max-width: 576px) {
  .card-body {
    padding: 0.75rem;
  }
  
  .btn {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }
  
  .connection-indicator i {
    font-size: 2rem !important;
  }
  
  .modal-body, .modal-header {
    padding: 1rem;
  }
}

/* =====================================
   Utility Classes
   ===================================== */

.text-gradient {
  color: var(--primary-700);
  font-weight: 600;
}

/* Removed gradient shift animation */

.text-gradient-accent {
  color: var(--accent-600);
  font-weight: 600;
}

.bg-warm {
  background-color: var(--warning-light) !important;
}

.bg-cool {
  background-color: var(--info-light) !important;
}

.bg-ocean {
  background-color: var(--info-light) !important;
}

.shadow-soft {
  box-shadow: var(--shadow-md);
}

.shadow-colored {
  box-shadow: var(--shadow-colored);
}

.shadow-accent {
  box-shadow: var(--shadow-accent);
}

.border-gradient {
  border: 2px solid;
  border-image: linear-gradient(135deg, var(--primary-500), var(--accent-500)) 1;
  position: relative;
}

.glass-effect {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-effect-dark {
  background: rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Removed floating and pulse glow animations */

/* Icon Enhancements */
.fas, .far {
  transition: var(--transition);
}

.icon-hover:hover i {
  filter: brightness(1.2);
}

/* Custom Scrollbars */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--gray-100);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--gray-400);
  border-radius: 4px;
  transition: var(--transition);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--gray-500);
}

/* =====================================
   Dual-View Table System
   ===================================== */

/* Modern Data Ribbon Layout */
.data-ribbon {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.25rem 2rem;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
  margin-bottom: 1.5rem;
  gap: 2rem;
  position: relative;
  overflow: hidden;
}

.data-ribbon::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, #3b82f6, #8b5cf6, #06b6d4);
}

.ribbon-left {
  flex: 0 0 auto;
  display: flex;
  align-items: center;
  gap: 1rem;
}

.ribbon-center {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
}

.ribbon-right {
  flex: 0 0 auto;
  display: flex;
  align-items: center;
  gap: 1.5rem;
  min-width: 320px;
  justify-content: flex-end;
}

.data-title {
  color: #1f2937;
  font-size: 1.125rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.data-title i {
  color: #6b7280;
  font-size: 1rem;
}

.data-count {
  font-size: 0.875rem;
  color: #6b7280;
  font-weight: 500;
  background: #f3f4f6;
  padding: 0.25rem 0.75rem;
  border-radius: 20px;
  border: 1px solid #e5e7eb;
}

.pagination-controls {
  display: flex;
  align-items: center;
}

.action-buttons {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

/* Modern View Toggle Controls - Tab Style */
.view-toggle-controls {
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  padding: 0.25rem;
  display: flex;
  gap: 0;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
  position: relative;
}

.view-toggle-btn {
  border: none;
  background: transparent;
  color: #64748b;
  padding: 0.75rem 1.25rem;
  border-radius: 8px;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  font-weight: 500;
  font-size: 0.875rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  position: relative;
  cursor: pointer;
  min-width: 100px;
  justify-content: center;
}

.view-toggle-btn.active {
  background: #ffffff;
  color: #1e293b;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
  border: 1px solid #e2e8f0;
  font-weight: 600;
}

.view-toggle-btn:hover:not(.active) {
  background: #f1f5f9;
  color: #475569;
}

.view-toggle-btn i {
  font-size: 0.875rem;
  opacity: 0.8;
}

.view-toggle-btn.active i {
  opacity: 1;
}

/* Modern Action Buttons */
.action-buttons .btn {
  border-radius: 8px;
  font-weight: 500;
  font-size: 0.875rem;
  padding: 0.75rem 1.25rem;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  border: 1px solid transparent;
}

.action-buttons .btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.action-buttons .btn-success {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  border: 1px solid #10b981;
  color: white;
  box-shadow: 0 1px 3px rgba(16, 185, 129, 0.2);
}

.action-buttons .btn-success:hover {
  background: linear-gradient(135deg, #059669 0%, #047857 100%);
  border-color: #059669;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.action-buttons .btn-success i {
  font-size: 0.875rem;
}

.action-buttons .btn-outline-secondary {
  background: #ffffff;
  border: 1px solid #d1d5db;
  color: #374151;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.action-buttons .btn-outline-secondary:hover {
  background: #f9fafb;
  border-color: #9ca3af;
  color: #111827;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.action-buttons .btn-outline-secondary i {
  font-size: 0.875rem;
  opacity: 0.8;
}

/* Modern Segmented Control for Row Selection */
.pagination-controls .btn-group {
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  padding: 0.25rem;
  display: flex;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
  gap: 0;
}

.pagination-controls .btn-group .btn {
  border: none;
  background: transparent;
  color: #64748b;
  padding: 0.625rem 1rem;
  border-radius: 8px;
  font-weight: 500;
  font-size: 0.875rem;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  cursor: pointer;
  min-width: 50px;
  text-align: center;
}

.pagination-controls .btn-group .btn.active {
  background: #ffffff;
  color: #1e293b;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
  border: 1px solid #e2e8f0;
  font-weight: 600;
}

.pagination-controls .btn-group .btn:hover:not(.active) {
  background: #f1f5f9;
  color: #475569;
}

.pagination-controls .btn-group .btn:first-child {
  border-top-left-radius: 8px;
  border-bottom-left-radius: 8px;
}

.pagination-controls .btn-group .btn:last-child {
  border-top-right-radius: 8px;
  border-bottom-right-radius: 8px;
}

/* List View Styles */
.list-view-container {
  background: rgba(255, 255, 255, 0.98);
  border-radius: 1rem;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.list-view-header {
  background: linear-gradient(135deg, var(--gray-50) 0%, rgba(255, 255, 255, 0.9) 100%);
  border-bottom: 1px solid var(--gray-200);
  padding: 1rem 1.5rem;
  font-weight: 600;
  color: var(--gray-700);
  display: flex;
  align-items: center;
  gap: 1rem;
}

.list-view-body {
  max-height: 70vh;
  overflow-y: auto;
}

/* List View Column Headers */
.list-view-column-headers {
  background-color: var(--primary-800);
  color: white;
  padding: 1rem 1.5rem;
  font-weight: 600;
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-bottom: 2px solid var(--gray-300);
  gap: 1rem;
  align-items: center;
}

.list-header-primary {
  font-weight: 700;
  flex: 0 0 auto;
  min-width: 150px;
}

.list-header-cell {
  flex: 1;
  min-width: 100px;
  text-align: left;
}

.list-header-actions {
  flex: 0 0 auto;
  min-width: 120px;
  text-align: center;
}

.list-row {
  border-bottom: 1px solid var(--gray-100);
  padding: 1rem 1.5rem;
  transition: var(--transition);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 1rem;
  background: white;
}

.list-row:hover {
  background: rgba(59, 130, 246, 0.05);
  border-color: rgba(59, 130, 246, 0.2);
}

.list-row:last-child {
  border-bottom: none;
}

.list-row-primary {
  font-weight: 600;
  color: var(--primary-600);
  text-decoration: none;
  transition: var(--transition);
  flex: 0 0 auto;
  min-width: 150px;
  cursor: pointer;
  border-radius: 6px;
  padding: 0.5rem;
  margin: -0.5rem;
}

.list-row-primary:hover {
  color: var(--primary-700);
  background: var(--primary-50);
  transform: translateX(2px);
}

.list-row-primary-content {
  display: block;
  color: inherit;
}

.list-row-data {
  display: flex;
  gap: 2rem;
  flex: 1;
  align-items: center;
}

.list-row-cell {
  flex: 1;
  min-width: 0;
}

.list-row-cell-label {
  font-size: 0.75rem;
  color: var(--gray-500);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.025em;
  margin-bottom: 0.25rem;
}

.list-row-cell-value {
  color: var(--gray-800);
  font-weight: 500;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.list-row-actions {
  flex: 0 0 auto;
  opacity: 0;
  transition: var(--transition);
}

.list-row:hover .list-row-actions {
  opacity: 1;
}

/* Detailed View Modal */
.detail-modal .modal-dialog {
  max-width: 800px;
}

.detail-modal .modal-content {
  border-radius: var(--border-radius-lg);
  border: none;
  box-shadow: var(--shadow-2xl);
  overflow: hidden;
}

.detail-modal .modal-header {
  background-color: var(--primary-800);
  color: white;
  border-bottom: none;
  padding: 1.5rem;
}

.detail-modal .modal-header .btn-close {
  background-color: rgba(255, 255, 255, 0.9);
  border-radius: 50%;
  width: 1.5rem;
  height: 1.5rem;
  opacity: 1;
  filter: invert(1);
  transition: var(--transition);
  border: 2px solid rgba(255, 255, 255, 0.3);
}

.detail-modal .modal-header .btn-close:hover {
  background-color: white;
  border-color: rgba(255, 255, 255, 0.7);
  transform: scale(1.1);
}

.detail-modal .modal-body {
  padding: 2rem;
  background: rgba(248, 250, 252, 0.5);
}

.detail-modal .modal-footer {
  background: var(--gray-50);
  border-top: 1px solid var(--gray-200);
  padding: 1rem 2rem;
}

/* Detail Field Groups */
.detail-field-group {
  background: white;
  border-radius: var(--border-radius);
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--gray-200);
}

.detail-field-group-title {
  font-weight: 700;
  color: var(--gray-800);
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--primary-100);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.detail-field {
  margin-bottom: 1rem;
  display: flex;
  align-items: flex-start;
  gap: 1rem;
}

.detail-field:last-child {
  margin-bottom: 0;
}

.detail-field-label {
  font-weight: 600;
  color: var(--gray-700);
  min-width: 120px;
  flex: 0 0 auto;
  font-size: 0.9rem;
}

.detail-field-value {
  flex: 1;
  color: var(--gray-800);
  word-break: break-word;
  background: var(--gray-50);
  padding: 0.5rem 0.75rem;
  border-radius: 6px;
  border: 1px solid var(--gray-200);
  font-family: 'Google Sans', monospace;
}

.detail-field-value.null-value {
  background: rgba(239, 68, 68, 0.1);
  color: var(--error);
  border-color: rgba(239, 68, 68, 0.2);
  font-style: italic;
}

.detail-field-value.empty-value {
  background: rgba(245, 158, 11, 0.1);
  color: var(--warning);
  border-color: rgba(245, 158, 11, 0.2);
  font-style: italic;
}

.detail-field-value.long-text {
  max-height: 200px;
  overflow-y: auto;
  white-space: pre-wrap;
  font-size: 0.875rem;
}

/* Navigation controls in detail view */
.detail-navigation {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
}

.detail-nav-info {
  flex: 1;
  color: var(--gray-600);
  font-weight: 500;
}

.detail-nav-btn {
  border-radius: 8px;
  padding: 0.5rem 1rem;
  font-weight: 500;
  transition: var(--transition);
}

/* Search highlighting in list view */
.list-row-cell-value .highlight {
  background: rgba(245, 158, 11, 0.3);
  color: var(--warning-dark);
  padding: 0.1rem 0.2rem;
  border-radius: 3px;
  font-weight: 600;
}

/* Loading states */
.list-view-loading {
  text-align: center;
  padding: 3rem;
  color: var(--gray-500);
}

.list-view-loading .spinner-border {
  width: 3rem;
  height: 3rem;
  border-width: 0.25rem;
}

/* Empty state */
.list-view-empty {
  text-align: center;
  padding: 3rem;
  color: var(--gray-500);
}

.list-view-empty i {
  font-size: 3rem;
  margin-bottom: 1rem;
  opacity: 0.6;
}

/* =====================================
   Map Visualization Styles
   ===================================== */

/* Map container styling */
#geoMap {
  border-radius: 0.375rem;
  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
}

/* Leaflet popup styling */
.leaflet-popup-content {
  font-family: 'Google Sans', sans-serif;
}

.leaflet-popup-content h6 {
  font-weight: 600;
  color: var(--gray-700);
}

.leaflet-popup-content p {
  margin: 0.25rem 0;
}

/* Leaflet controls styling */
.leaflet-control-zoom {
  border-radius: 0.375rem;
  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
}

.leaflet-control-zoom a {
  border-radius: 0.375rem;
  font-weight: 600;
  transition: var(--transition);
}

.leaflet-control-zoom a:hover {
  background-color: var(--gray-100);
}

/* Map legend styling */
.info.legend {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 0.5rem;
  box-shadow: 0 0.25rem 0.5rem rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(10px);
}

.info.legend h6 {
  font-weight: 600;
  color: var(--gray-700);
  margin-bottom: 0.5rem;
}

.info.legend div {
  font-size: 0.75rem;
  line-height: 1.4;
}

/* Map container card styling */
.card-body.p-0 {
  border-radius: 0 0 0.375rem 0.375rem;
  overflow: hidden;
}

.card-header h6 {
  font-weight: 600;
  color: var(--gray-700);
}

.card-header h6 i {
  color: var(--gray-500);
}

/* =====================================
   Settings Page Styles
   ===================================== */

/* Settings container enhancements */
.settings-container {
  background: linear-gradient(135deg, 
    rgba(59, 130, 246, 0.03) 0%, 
    rgba(255, 255, 255, 0.95) 25%, 
    rgba(217, 70, 239, 0.03) 100%);
  min-height: 100vh;
  padding: 2rem 0;
}

/* Settings tabs styling with enhanced design */
.nav-tabs {
  border-bottom: none;
  margin-bottom: 0;
  background: rgba(255, 255, 255, 0.8);
  border-radius: 1rem 1rem 0 0;
  padding: 0.5rem;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.05);
  backdrop-filter: blur(10px);
}

.nav-tabs .nav-link {
  border: none;
  border-bottom: 3px solid transparent;
  color: var(--gray-700);
  font-weight: 600;
  font-size: 0.95rem;
  padding: 1rem 1.5rem;
  margin: 0 0.25rem;
  border-radius: 0.75rem;
  background: transparent;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.nav-tabs .nav-link::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, var(--primary-400), var(--accent-400));
  opacity: 0;
  transition: opacity 0.3s ease;
  border-radius: 0.75rem;
  z-index: -1;
}

.nav-tabs .nav-link:hover {
  color: white;
  background: transparent;
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(59, 130, 246, 0.25);
}

.nav-tabs .nav-link:hover::before {
  opacity: 1;
}

.nav-tabs .nav-link.active {
  color: white;
  background: var(--gradient-primary);
  box-shadow: 0 8px 30px rgba(59, 130, 246, 0.35);
  transform: translateY(-3px);
  border-bottom: 3px solid var(--accent-500);
}

.nav-tabs .nav-link.active::before {
  opacity: 0;
}

.nav-tabs .nav-link i {
  margin-right: 0.5rem;
  font-size: 1rem;
  vertical-align: middle;
}

.nav-tabs .nav-link.active i {
  color: var(--primary-600);
}

.nav-tabs .nav-link:hover i {
  color: var(--primary-600);
}

/* Ensure tab text is always visible */
.nav-tabs .nav-link span,
.nav-tabs .nav-link {
  text-shadow: none;
  font-weight: 600;
  letter-spacing: 0.025em;
}

.nav-tabs .nav-link.active {
  font-weight: 700;
}

/* Tab text contrast improvement */
.nav-tabs .nav-link {
  color: var(--gray-800) !important;
  text-decoration: none !important;
}

.nav-tabs .nav-link:hover {
  color: var(--primary-800) !important;
  text-decoration: none !important;
}

.nav-tabs .nav-link.active {
  color: var(--primary-800) !important;
  text-decoration: none !important;
}

/* Ensure tab text is visible */
.nav-tabs .nav-link {
  visibility: visible;
  opacity: 1;
  display: inline-block;
}

/* Ensure text in settings cards is visible */
.settings-card .card-header h5,
.settings-card .form-label,
.settings-card .btn {
  visibility: visible;
  opacity: 1;
  color: var(--gray-800);
}

/* Form elements visibility */
.settings-card .form-control,
.settings-card .form-select,
.settings-card .form-check-label {
  visibility: visible;
  opacity: 1;
  color: var(--gray-800);
}

/* Settings page container */
.container-fluid {
  background: var(--white);
  min-height: 100vh;
  padding: 2rem 0;
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
}

/* Ensure proper tab functionality */
.tab-content {
  display: block;
  visibility: visible;
  opacity: 1;
}

/* Tab navigation visibility */
.nav-tabs .nav-link {
  display: inline-block;
  visibility: visible;
  opacity: 1;
}

/* Ensure text is visible in active tabs */
.tab-pane.active *,
.tab-pane.show * {
  visibility: visible;
  opacity: 1;
}

/* Settings page header with enhanced design */
.settings-header {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.9) 100%);
  backdrop-filter: blur(20px);
  border-radius: 1.5rem;
  padding: 2.5rem;
  margin-bottom: 2rem;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.2);
  position: relative;
  overflow: hidden;
}

.settings-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--gradient-primary);
}

.settings-header h1 {
  color: var(--gray-800);
  font-weight: 800;
  margin-bottom: 0.75rem;
  font-size: 2.25rem;
  background: linear-gradient(135deg, var(--gray-800), var(--primary-600));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.settings-header p {
  color: var(--gray-600);
  font-size: 1.125rem;
  margin-bottom: 0;
  font-weight: 500;
}

/* Enhanced settings cards */
.settings-card {
  border: 1px solid rgba(59, 130, 246, 0.1);
  border-radius: 1rem;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  margin-bottom: 2rem;
  position: relative;
  overflow: hidden;
}

.settings-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--gradient-primary);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.settings-card:hover {
  box-shadow: 0 12px 40px rgba(59, 130, 246, 0.15);
  transform: translateY(-4px);
  border-color: rgba(59, 130, 246, 0.2);
}

.settings-card:hover::before {
  opacity: 1;
}

.settings-card .card-header {
  background: linear-gradient(135deg, var(--primary-50) 0%, var(--white) 100%);
  border-bottom: 2px solid var(--primary-100);
  border-radius: 0.75rem 0.75rem 0 0;
  padding: 1.25rem 1.5rem;
}

.settings-card .card-header h5 {
  color: var(--gray-800);
  font-weight: 700;
  margin: 0;
  font-size: 1.1rem;
}

.settings-card .card-header i {
  color: var(--primary-600);
  font-size: 1.2rem;
}

.settings-card .card-body {
  padding: 1.5rem;
}

/* Enhanced connection indicator */
.connection-indicator {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  display: inline-block;
  margin-right: 10px;
  position: relative;
  transition: all 0.3s ease;
}

.connection-indicator::before {
  content: '';
  position: absolute;
  top: -3px;
  left: -3px;
  right: -3px;
  bottom: -3px;
  border-radius: 50%;
  opacity: 0;
  transition: all 0.3s ease;
}

.connection-indicator.connected {
  background-color: var(--success);
  box-shadow: 0 0 0 3px var(--success-light);
  animation: pulse-success 2s infinite;
}

.connection-indicator.connected::before {
  background: radial-gradient(circle, rgba(34, 197, 94, 0.3) 0%, transparent 70%);
  opacity: 1;
  animation: ripple 2s infinite;
}

.connection-indicator.disconnected {
  background: linear-gradient(135deg, var(--error), #dc2626);
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
}

.connection-indicator.connecting {
  background: linear-gradient(135deg, var(--warning), #f59e0b);
  box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
  animation: pulse-warning 1.5s infinite;
}

@keyframes pulse-success {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

@keyframes pulse-warning {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.2); opacity: 0.8; }
}

@keyframes ripple {
  0% { transform: scale(0.8); opacity: 1; }
  100% { transform: scale(2); opacity: 0; }
}

/* Form switches */
.form-check-input:checked {
  background-color: var(--primary-500);
  border-color: var(--primary-500);
}

.form-check-input:focus {
  border-color: var(--primary-300);
  box-shadow: 0 0 0 0.25rem rgba(78, 115, 223, 0.25);
}

/* Range inputs */
.form-range::-webkit-slider-thumb {
  background: var(--primary-500);
  border: 2px solid var(--white);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.form-range::-moz-range-thumb {
  background: var(--primary-500);
  border: 2px solid var(--white);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Settings preview */
#settingsPreview {
  max-height: 400px;
  overflow-y: auto;
}

.settings-preview-item {
  padding: 0.5rem;
  border-bottom: 1px solid var(--gray-200);
}

.settings-preview-item:last-child {
  border-bottom: none;
}

/* Alert styling */
.alert {
  border: none;
  border-radius: 0.5rem;
  font-weight: 500;
}





/* Settings section headers */
.settings-section-header {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--gray-700);
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--primary-100);
}

/* Quick actions buttons */
.quick-action-btn {
  font-size: 0.875rem;
  padding: 0.375rem 0.75rem;
  border-radius: 0.375rem;
  transition: var(--transition);
}

.quick-action-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 0.25rem 0.5rem rgba(0, 0, 0, 0.1);
}

/* Database info styling */
#dbInfo .small {
  line-height: 1.6;
}

#dbInfo .small div {
  margin-bottom: 0.25rem;
}

/* Form validation */
.is-invalid {
  border-color: var(--danger-500);
}

.is-valid {
  border-color: var(--success-500);
}

.invalid-feedback {
  display: block;
  color: var(--danger-600);
  font-size: 0.875rem;
  margin-top: 0.25rem;
}

.valid-feedback {
  display: block;
  color: var(--success-600);
  font-size: 0.875rem;
  margin-top: 0.25rem;
}

/* Form elements in settings */
.settings-card .form-label {
  font-weight: 600;
  color: var(--gray-700);
  margin-bottom: 0.5rem;
  font-size: 0.95rem;
}

.settings-card .form-control,
.settings-card .form-select {
  border: 2px solid var(--gray-200);
  border-radius: 0.5rem;
  padding: 0.75rem 1rem;
  font-size: 0.95rem;
  transition: all 0.3s ease;
  background: var(--white);
}

.settings-card .form-control:focus,
.settings-card .form-select:focus {
  border-color: var(--primary-400);
  box-shadow: 0 0 0 0.2rem rgba(78, 115, 223, 0.15);
  background: var(--white);
}

.settings-card .form-control:hover,
.settings-card .form-select:hover {
  border-color: var(--primary-300);
}

/* Button styling in settings */
.settings-card .btn {
  font-weight: 600;
  padding: 0.75rem 1.5rem;
  border-radius: 0.5rem;
  transition: all 0.3s ease;
  font-size: 0.95rem;
}

.settings-card .btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.settings-card .btn-primary {
  background-color: var(--primary-700);
  border: none;
}

.settings-card .btn-success {
  background-color: var(--success);
  border: none;
}

.settings-card .btn-outline-primary {
  border: 2px solid var(--primary-700);
  color: var(--primary-700);
  background: var(--white);
}

.settings-card .btn-outline-primary:hover {
  background: var(--primary-700);
  color: var(--white);
}

/* Connection status styling */
#connectionStatus {
  background: var(--gray-50);
  border-radius: 0.75rem;
  padding: 1rem;
  border: 1px solid var(--gray-200);
}

#dbInfo {
  background: var(--white);
  border-radius: 0.5rem;
  padding: 1rem;
  border: 1px solid var(--gray-200);
}

/* Enhanced tab content styling */
.tab-content {
  background-color: var(--white);
  border-radius: 0 1rem 1rem 1rem;
  padding: 2.5rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
  border: 1px solid var(--gray-300);
  border-top: none;
  visibility: visible;
  opacity: 1;
  min-height: 500px;
  position: relative;
  z-index: 1;
}

/* Status cards for settings */
.status-card {
  background-color: var(--white);
  border: 1px solid var(--gray-300);
  border-radius: 1rem;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.status-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background-color: var(--primary-700);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.status-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(52, 99, 175, 0.12);
}

.status-card:hover::before {
  opacity: 1;
}

.status-card.success {
  border-color: var(--success);
  background-color: var(--success-light);
}

.status-card.warning {
  border-color: var(--warning);
  background-color: var(--warning-light);
}

.status-card.error {
  border-color: var(--error);
  background-color: var(--error-light);
}

/* Progress indicators */
.progress-indicator {
  background: var(--gray-100);
  border-radius: 10px;
  height: 8px;
  overflow: hidden;
  margin: 0.75rem 0;
  position: relative;
}

.progress-indicator::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background: var(--gradient-primary);
  border-radius: 10px;
  transition: width 0.5s ease;
  width: var(--progress, 0%);
}

.progress-indicator.success::before {
  background: var(--gradient-success);
}

.progress-indicator.warning::before {
  background: linear-gradient(135deg, var(--warning), #f59e0b);
}

/* Proper tab functionality */
.tab-pane {
  display: none;
  visibility: visible;
  opacity: 1;
  background: var(--white);
  border-radius: 0.5rem;
  padding: 1rem;
}

.tab-pane.active,
.tab-pane.show {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.tab-pane.fade {
  opacity: 0;
  transition: opacity 0.15s linear;
}

.tab-pane.fade.active,
.tab-pane.fade.show {
  opacity: 1;
}

/* Ensure content in active tabs is visible */
.tab-content .tab-pane.active *,
.tab-content .tab-pane.show * {
  visibility: visible;
  opacity: 1;
}

/* High contrast text for better visibility */
.settings-card .card-header h5,
.settings-card .form-label,
.settings-card .btn,
.settings-card .form-control,
.settings-card .form-select {
  color: var(--gray-900) !important;
  font-weight: 600 !important;
}

/* Ensure icons are visible */
.settings-card .card-header i,
.nav-tabs .nav-link i {
  visibility: visible !important;
  opacity: 1 !important;
  color: inherit !important;
}

/* Enhanced responsive settings styles */
@media (max-width: 992px) {
  .settings-header {
    padding: 2rem 1.5rem;
  }
  
  .settings-header h1 {
    font-size: 2rem;
  }
  
  .tab-content {
    padding: 2rem 1.5rem;
  }
}

@media (max-width: 768px) {
  .settings-container {
    padding: 1rem 0;
  }
  
  .settings-header {
    padding: 1.5rem;
    margin-bottom: 1.5rem;
  }
  
  .settings-header h1 {
    font-size: 1.75rem;
    margin-bottom: 0.5rem;
  }
  
  .settings-header .d-flex {
    flex-direction: column;
    gap: 1rem;
    align-items: flex-start !important;
  }
  
  .nav-tabs {
    flex-wrap: wrap;
    padding: 0.25rem;
    margin-bottom: 0;
  }
  
  .nav-tabs .nav-link {
    font-size: 0.875rem;
    padding: 0.75rem 1rem;
    margin: 0.125rem;
    border-radius: 0.5rem;
  }
  
  .settings-card {
    margin-bottom: 1.5rem;
  }
  
  .tab-content {
    padding: 1.5rem;
    min-height: 400px;
  }
  
  .status-card {
    padding: 1rem;
    margin-bottom: 1rem;
  }
  
  .status-card .row .col-6 {
    margin-bottom: 0.75rem;
  }
}

@media (max-width: 576px) {
  .settings-header {
    padding: 1rem;
    text-align: center;
  }
  
  .settings-header h1 {
    font-size: 1.5rem;
  }
  
  .settings-header p {
    font-size: 1rem;
  }
  
  .nav-tabs {
    justify-content: center;
    overflow-x: auto;
    flex-wrap: nowrap;
    padding: 0.5rem;
  }
  
  .nav-tabs .nav-link {
    font-size: 0.8rem;
    padding: 0.5rem 0.75rem;
    margin: 0.1rem;
    white-space: nowrap;
    min-width: auto;
  }
  
  .nav-tabs .nav-link i {
    margin-right: 0.25rem;
    font-size: 0.9rem;
  }
  
  .tab-content {
    padding: 1rem;
    min-height: 300px;
  }
  
  .settings-card .card-body {
    padding: 1rem;
  }
  
  .settings-card .card-header {
    padding: 1rem;
  }
  
  .status-card {
    padding: 0.75rem;
  }
  
  .settings-card .row .col-md-6 {
    margin-bottom: 1rem;
  }
  
  .settings-card .btn {
    width: 100%;
    margin-bottom: 0.5rem;
  }
  
  .d-grid.gap-2 .btn {
    margin-bottom: 0.5rem;
  }
  
  /* Make form controls more touch-friendly */
  .form-control,
  .form-select {
    padding: 0.75rem 1rem;
    font-size: 1rem;
  }
  
  /* Improve connection status display on mobile */
  .connection-indicator {
    width: 16px;
    height: 16px;
  }
  
  /* Stack database info grid on mobile */
  .status-card .row .col-6 {
    flex: 0 0 100%;
    max-width: 100%;
    margin-bottom: 0.5rem;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .nav-tabs .nav-link:hover {
    transform: none;
  }
  
  .settings-card:hover {
    transform: none;
  }
  
  .status-card:hover {
    transform: none;
  }
  
  /* Increase tap targets for touch devices */
  .btn {
    min-height: 44px;
    padding: 0.75rem 1.5rem;
  }
  
  .nav-tabs .nav-link {
    min-height: 44px;
    padding: 0.75rem 1rem;
  }
  
  /* Dual-view touch optimizations */
  .list-row {
    padding: 1.25rem 1rem;
  }
  
  .list-row-actions {
    opacity: 1; /* Always visible on touch devices */
  }
  
  .view-toggle-btn {
    min-height: 44px;
    padding: 0.75rem 1.25rem;
  }
}

/* Modern Responsive Data Ribbon */
@media (max-width: 1200px) {
  .data-ribbon {
    padding: 1rem 1.5rem;
    gap: 1.5rem;
  }
  
  .ribbon-right {
    min-width: 280px;
  }
}

@media (max-width: 992px) {
  .data-ribbon {
    flex-direction: column;
    align-items: stretch;
    gap: 1.25rem;
    padding: 1rem 1.25rem;
  }
  
  .ribbon-left {
    justify-content: center;
    text-align: center;
  }
  
  .ribbon-center {
    justify-content: center;
  }
  
  .ribbon-right {
    flex-direction: column;
    gap: 1rem;
    min-width: auto;
    align-items: center;
  }
  
  .pagination-controls,
  .action-buttons {
    justify-content: center;
    width: 100%;
  }
}

@media (max-width: 768px) {
  .data-ribbon {
    padding: 0.875rem 1rem;
    margin-bottom: 1rem;
  }
  
  .data-title {
    font-size: 1rem;
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .data-count {
    font-size: 0.8rem;
    padding: 0.25rem 0.625rem;
  }
  
  .view-toggle-controls {
    width: 100%;
    max-width: 300px;
  }
  
  .view-toggle-btn {
    font-size: 0.875rem;
    padding: 0.625rem 1rem;
    flex: 1;
  }
  
  .pagination-controls .btn-group {
    width: 100%;
    max-width: 280px;
  }
  
  .pagination-controls .btn-group .btn {
    padding: 0.5rem 0.75rem;
    font-size: 0.8rem;
  }
  
  .action-buttons {
    flex-direction: row;
    gap: 0.5rem;
    width: 100%;
    max-width: 300px;
  }
  
  .action-buttons .btn {
    flex: 1;
    justify-content: center;
    padding: 0.625rem 1rem;
    font-size: 0.8rem;
  }
}

@media (max-width: 576px) {
  .data-ribbon {
    padding: 0.75rem;
    border-radius: 8px;
  }
  
  .ribbon-right {
    gap: 0.75rem;
  }
  
  .view-toggle-controls {
    max-width: 100%;
  }
  
  .view-toggle-btn {
    padding: 0.5rem 0.75rem;
    font-size: 0.8rem;
  }
  
  .pagination-controls .btn-group {
    max-width: 100%;
  }
  
  .pagination-controls .btn-group .btn {
    padding: 0.5rem 0.625rem;
    font-size: 0.75rem;
  }
  
  .action-buttons {
    max-width: 100%;
  }
  
  .action-buttons .btn {
    padding: 0.5rem 0.75rem;
    font-size: 0.75rem;
  }
}

/* Dual-view responsive styles */
@media (max-width: 768px) {
  .list-view-header {
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
  }
  
  .list-row {
    padding: 1rem;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }
  
  .list-row-primary {
    min-width: auto;
    width: 100%;
    font-size: 1.1rem;
  }
  
  .list-row-data {
    flex-direction: column;
    gap: 0.75rem;
    width: 100%;
  }
  
  .list-row-cell {
    width: 100%;
  }
  
  .list-row-actions {
    width: 100%;
    opacity: 1;
    justify-content: flex-end;
  }
  
  .detail-modal .modal-dialog {
    max-width: 95vw;
    margin: 1rem;
  }
  
  .detail-modal .modal-body {
    padding: 1rem;
  }
  
  .detail-field {
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .detail-field-label {
    min-width: auto;
    width: 100%;
  }
  
  .detail-navigation {
    flex-direction: column;
    gap: 0.75rem;
    text-align: center;
  }
}

@media (max-width: 576px) {
  .list-view-body {
    max-height: 60vh;
  }
  
  .list-row {
    padding: 0.75rem;
  }
  
  .list-row-cell-label {
    font-size: 0.7rem;
  }
  
  .list-row-cell-value {
    font-size: 0.9rem;
  }
  
  .detail-field-group {
    padding: 1rem;
    margin-bottom: 1rem;
  }
  
  .detail-field-group-title {
    font-size: 1rem;
  }
  
  .detail-field-label {
    font-size: 0.8rem;
  }
  
  .detail-field-value {
    font-size: 0.85rem;
    padding: 0.4rem 0.6rem;
  }
}

/* View Configuration Styles */
.view-config-container {
  max-width: 1400px;
  margin: 0 auto;
}

.field-source-card {
  height: 600px;
  overflow-y: auto;
}

.available-fields {
  min-height: 400px;
}

.available-field {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  background: var(--gray-50);
  border: 1px solid var(--gray-200);
  border-radius: var(--border-radius);
  cursor: grab;
  transition: var(--transition);
}

.available-field:hover {
  background: var(--primary-50);
  border-color: var(--primary-200);
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}

.available-field.dragging {
  opacity: 0.5;
  transform: rotate(5deg);
}

.field-info {
  display: flex;
  flex-direction: column;
}

.field-name {
  font-weight: 600;
  color: var(--gray-700);
  font-size: 0.9rem;
}

.field-type {
  font-size: 0.75rem;
  color: var(--gray-500);
  text-transform: uppercase;
  font-weight: 500;
}

.field-actions {
  display: flex;
  gap: 0.25rem;
}

.field-drop-zone {
  min-height: 80px;
  border: 2px dashed var(--gray-300);
  border-radius: var(--border-radius);
  padding: 1rem;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
  background: var(--gray-50);
}

.field-drop-zone.drag-over {
  border-color: var(--primary-400);
  background: var(--primary-50);
  box-shadow: inset 0 0 0 1px var(--primary-200);
}

.drop-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  color: var(--gray-500);
  text-align: center;
}

.drop-placeholder i {
  font-size: 1.5rem;
  margin-bottom: 0.5rem;
  opacity: 0.6;
}

.dropped-field {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem;
  background: var(--primary-50);
  border: 1px solid var(--primary-200);
  border-radius: var(--border-radius);
  width: 100%;
}

.field-zone {
  margin-bottom: 2rem;
}

.field-zone-label {
  display: flex;
  align-items: center;
  font-weight: 600;
  color: var(--gray-700);
  margin-bottom: 0.75rem;
  font-size: 0.9rem;
}

.primary-field-zone .field-drop-zone {
  background: linear-gradient(135deg, var(--primary-50) 0%, var(--primary-100) 100%);
  border-color: var(--primary-300);
  min-height: 100px;
}

.secondary-fields-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

.secondary-fields-container .field-drop-zone {
  min-height: 70px;
}

.view-type-selector {
  margin-bottom: 1rem;
}

.view-config-panel {
  transition: var(--transition);
}

/* Partition Styles */
.partition {
  border: 1px solid var(--gray-200);
  border-radius: var(--border-radius-lg);
  margin-bottom: 1.5rem;
  overflow: hidden;
  background: var(--white);
  box-shadow: var(--shadow-sm);
}

.partition-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: var(--gray-100);
  border-bottom: 1px solid var(--gray-200);
}

.partition-title {
  flex: 1;
  border: none;
  background: transparent;
  font-weight: 600;
  color: var(--gray-700);
}

.partition-title:focus {
  background: var(--white);
  border: 1px solid var(--primary-300);
  border-radius: var(--border-radius);
  padding: 0.25rem 0.5rem;
}

.partition-fields {
  padding: 1rem;
  min-height: 120px;
}

.partition-drop-zone {
  min-height: 80px;
  background: var(--gray-50);
}

.partitions-container {
  max-height: 500px;
  overflow-y: auto;
}

/* Preview Styles */
.preview-container {
  background: var(--gray-50);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  min-height: 200px;
}

.preview-title {
  font-weight: 600;
  color: var(--gray-700);
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--gray-200);
}

.list-preview {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.preview-primary {
  background: var(--primary-100);
  color: var(--primary-700);
  padding: 0.5rem 1rem;
  border-radius: var(--border-radius);
  font-weight: 600;
  border: 2px solid var(--primary-300);
}

.preview-secondary {
  background: var(--gray-200);
  color: var(--gray-700);
  padding: 0.5rem 1rem;
  border-radius: var(--border-radius);
}

.preview-partition {
  margin-bottom: 1.5rem;
  padding: 1rem;
  background: var(--white);
  border-radius: var(--border-radius);
  border: 1px solid var(--gray-200);
}

.preview-partition h6 {
  color: var(--primary-600);
  font-weight: 600;
  margin-bottom: 0.75rem;
  padding-bottom: 0.25rem;
  border-bottom: 1px solid var(--primary-200);
}

.preview-field {
  display: inline-block;
  background: var(--gray-100);
  color: var(--gray-700);
  padding: 0.25rem 0.75rem;
  border-radius: var(--border-radius);
  margin: 0.25rem;
  font-size: 0.85rem;
}

.action-buttons {
  position: sticky;
  top: 20px;
}

.field-search {
  position: sticky;
  top: 0;
  background: var(--white);
  z-index: 10;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--gray-200);
}

/* Animation for drag and drop */
@keyframes dropSuccess {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.field-drop-zone.drop-success {
  animation: dropSuccess 0.3s ease-in-out;
}

/* Mobile Responsiveness for View Config */
@media (max-width: 768px) {
  .view-config-container {
    padding: 0 1rem;
  }
  
  .secondary-fields-container {
    grid-template-columns: 1fr;
  }
  
  .field-source-card {
    height: 400px;
    margin-bottom: 2rem;
  }
  
  .partition-header {
    flex-direction: column;
    gap: 0.5rem;
    align-items: stretch;
  }
  
  .action-buttons {
    position: static;
    margin-top: 1rem;
  }
  
  .list-preview {
    flex-direction: column;
  }
  
  .available-field {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }
  
  .field-actions {
    align-self: flex-end;
  }
}

@media (max-width: 576px) {
  .field-drop-zone {
    min-height: 60px;
    padding: 0.75rem;
  }
  
  .dropped-field {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }
  
  .preview-container {
    padding: 1rem;
  }
}

/* Layout Editor Styles */
.draggable-field {
  cursor: grab;
  transition: var(--transition);
}

.draggable-field:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}

.draggable-field.dragging {
  opacity: 0.5;
  transform: rotate(2deg);
}

.partition-editor {
  transition: var(--transition);
}

.partition-drop-zone {
  min-height: 100px;
  transition: var(--transition);
  border: 2px dashed transparent;
  border-radius: var(--border-radius);
}

.partition-drop-zone:hover {
  border-color: var(--primary-200);
  background-color: var(--primary-50);
}

.partition-drop-zone.drag-over {
  border-color: var(--primary-400);
  background-color: var(--primary-100);
}

.partition-name-input {
  border: none;
  background: transparent;
  font-weight: 600;
  color: var(--primary-600);
  padding: 0.25rem 0.5rem;
}

.partition-name-input:focus {
  background: var(--white);
  border: 1px solid var(--primary-300);
  border-radius: var(--border-radius);
  box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
}

.assigned-field {
  transition: var(--transition);
  cursor: default;
}

.assigned-field:hover {
  background-color: var(--gray-100) !important;
  border-color: var(--gray-300);
}

.drop-placeholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--gray-500);
  text-align: center;
  padding: 2rem;
  border-radius: var(--border-radius);
}

.drop-placeholder i {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  opacity: 0.6;
}

.layout-display-area {
  animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Mobile responsiveness for layout editor */
@media (max-width: 768px) {
  .partition-editor {
    margin-bottom: 1rem;
  }
  
  .partition-name-input {
    font-size: 0.9rem;
  }
  
  .assigned-field {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }
  
  .draggable-field {
    margin-bottom: 0.75rem;
  }
}

/* Custom Chart Container Styling - Prevent height shrinking */
#customChartContainer {
  min-height: 400px;
}

#customChartContainer .chart-area {
  height: 400px !important;
  min-height: 400px !important;
  position: relative !important;
  overflow: hidden;
}

#customChartContainer canvas {
  max-height: 400px !important;
  height: 400px !important;
}

/* Filter Panel Styling */
#customFiltersPanel {
  border: 1px solid var(--gray-300);
  border-radius: 12px;
  background: var(--white);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

#customFiltersPanel .card-header {
  background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
  color: white;
  border-radius: 11px 11px 0 0;
  padding: 1rem 1.25rem;
  border: none;
}

#customFiltersPanel .card-header h6 {
  font-weight: 600;
  margin: 0;
  font-size: 1rem;
  color: white !important;
}

#customFiltersPanel .card-header h6 span {
  color: white !important;
}

/* Filter Group Styling */
#customFilterGroups .filter-group {
  border: 2px solid var(--gray-200);
  border-radius: 10px;
  background: var(--white);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  margin-bottom: 1rem;
  overflow: hidden;
}

#customFilterGroups .filter-group .card-header {
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
  color: var(--gray-700);
  border-bottom: 1px solid var(--gray-200);
  padding: 0.75rem 1rem;
  border-radius: 0;
}

#customFilterGroups .filter-group .card-body {
  background: var(--gray-50);
  padding: 1rem;
}

/* Group Logic Styling */
.group-logic {
  background: var(--white);
  border: 2px solid var(--blue);
  color: var(--blue);
  font-weight: 600;
  padding: 0.375rem 0.75rem;
  border-radius: 6px;
  min-width: 80px;
}

.group-logic:focus {
  border-color: var(--blue);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

/* Main Logic Dropdown */
#customMainLogic {
  background: var(--white);
  border: 2px solid var(--success);
  color: var(--success);
  font-weight: 600;
  padding: 0.5rem 0.75rem;
  border-radius: 8px;
}

#customMainLogic:focus {
  border-color: var(--success);
  box-shadow: 0 0 0 3px rgba(19, 115, 51, 0.1);
}

/* Filter Condition Row Styling */
#customFilterGroups .condition {
  background: var(--white);
  border: 1px solid var(--gray-200);
  border-radius: 8px;
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  transition: all 0.2s ease;
}

#customFilterGroups .condition:hover {
  border-color: var(--blue);
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.1);
}

/* Filter Form Elements */
#customFilterGroups .condition-field,
#customFilterGroups .condition-operation,
#customFilterGroups .condition-value,
#customFilterGroups .condition-value-min,
#customFilterGroups .condition-value-max {
  border: 1px solid var(--gray-300);
  border-radius: 6px;
  padding: 0.5rem 0.75rem;
  background: var(--white);
  transition: all 0.2s ease;
}

#customFilterGroups .condition-field:focus,
#customFilterGroups .condition-operation:focus,
#customFilterGroups .condition-value:focus,
#customFilterGroups .condition-value-min:focus,
#customFilterGroups .condition-value-max:focus {
  border-color: var(--blue);
  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
  outline: none;
}

/* Filter Buttons */
#customFilterGroups .btn-success {
  background: linear-gradient(135deg, var(--success) 0%, var(--success-dark) 100%);
  border: none;
  padding: 0.5rem 1rem;
  font-weight: 600;
  border-radius: 6px;
  transition: all 0.2s ease;
}

#customFilterGroups .btn-success:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(19, 115, 51, 0.3);
}

#customFilterGroups .btn-danger {
  background: linear-gradient(135deg, var(--red) 0%, #b91c1c 100%);
  border: none;
  padding: 0.5rem;
  border-radius: 6px;
  transition: all 0.2s ease;
}

#customFilterGroups .btn-danger:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(217, 48, 37, 0.3);
}

/* Filter Toggle Button */
#toggleCustomFiltersBtn {
  background: var(--white);
  border: 2px solid var(--blue);
  color: var(--blue);
  font-weight: 600;
  transition: all 0.2s ease;
}

#toggleCustomFiltersBtn:hover {
  background: var(--blue);
  color: var(--white);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
}

#toggleCustomFiltersBtn:disabled {
  background: var(--gray-100);
  border-color: var(--gray-300);
  color: var(--gray-500);
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* Filter Count Badge */
#customFilterCountBadge {
  background: var(--red);
  color: var(--white);
  font-weight: 700;
  font-size: 0.75rem;
  padding: 0.25rem 0.5rem;
  border-radius: 10px;
}

/* Clear Filters Button */
#clearCustomFiltersBtn {
  background: var(--white);
  border: 1px solid var(--red);
  color: var(--red);
  font-weight: 600;
  transition: all 0.2s ease;
}

#clearCustomFiltersBtn:hover:not(:disabled) {
  background: var(--red);
  color: var(--white);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(217, 48, 37, 0.3);
}

/* Label Styling */
#customFiltersPanel .form-label {
  font-size: 0.9rem;
  letter-spacing: 0.025em;
}

#customFiltersPanel .text-success {
  color: var(--success) !important;
}

#customFiltersPanel .text-primary {
  color: var(--blue) !important;
}

/* Group header styling */
#customFilterGroups .card-header .form-label {
  font-size: 0.85rem;
  margin: 0;
}

/* Empty state for filter groups */
#customFilterGroups:empty::after {
  content: "No filter groups added yet. Click 'Add Filter Group' to get started.";
  display: block;
  text-align: center;
  color: var(--gray-500);
  font-style: italic;
  padding: 2rem;
  background: var(--gray-50);
  border: 2px dashed var(--gray-300);
  border-radius: 8px;
}

/* Ensure chart container doesn't get affected by layout changes */
.chart-area {
  contain: layout style;
}

/* ===============================
   Export Panel Styling
   =============================== */

/* Export Panel Overlay */
.export-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 9998;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.export-overlay.active {
  opacity: 1;
  visibility: visible;
}

/* Export Panel */
.export-panel {
  position: fixed;
  top: 0;
  right: -450px;
  width: 450px;
  height: 100vh;
  background: var(--white);
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.15);
  z-index: 9999;
  display: flex;
  flex-direction: column;
  transition: right 0.3s ease;
}

.export-panel.active {
  right: 0;
}

/* Export Panel Header */
.export-panel-header {
  background: linear-gradient(135deg, var(--success) 0%, var(--success-dark) 100%);
  color: white;
  padding: 1.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid var(--success-dark);
}

.export-panel-header h5 {
  color: white;
  font-weight: 600;
  flex: 1;
}

.export-panel-header .btn-outline-light {
  color: white;
  border-color: rgba(255, 255, 255, 0.3);
  transition: all 0.2s ease;
}

.export-panel-header .btn-outline-light:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: rgba(255, 255, 255, 0.5);
  color: white;
}

/* Export Panel Body */
.export-panel-body {
  flex: 1;
  padding: 1.5rem;
  overflow-y: auto;
}

.export-panel-body h6 {
  color: var(--gray-700);
  border-bottom: 2px solid var(--gray-200);
  padding-bottom: 0.5rem;
  margin-bottom: 1rem;
}

/* Export Columns Container */
.export-columns-container {
  max-height: 300px;
  overflow-y: auto;
  border: 1px solid var(--gray-200);
  border-radius: 8px;
  padding: 1rem;
  background: var(--gray-50);
}

.export-column-item {
  padding: 0.75rem;
  border: 1px solid var(--gray-200);
  border-radius: 6px;
  margin-bottom: 0.5rem;
  background: var(--white);
  transition: all 0.2s ease;
}

.export-column-item:hover {
  border-color: var(--success);
  box-shadow: 0 2px 8px rgba(19, 115, 51, 0.1);
}

.export-column-item:last-child {
  margin-bottom: 0;
}

.export-column-item .form-check {
  margin: 0;
}

.export-column-item .form-check-input {
  margin-top: 0.125rem;
}

.export-column-item .form-check-label {
  font-weight: 500;
  cursor: pointer;
  flex: 1;
}

.export-column-item .column-type {
  font-size: 0.8rem;
  color: var(--gray-500);
  background: var(--gray-100);
  padding: 0.25rem 0.5rem;
  border-radius: 12px;
  margin-left: 0.5rem;
}

/* Export Summary */
.export-summary .alert {
  border: none;
  border-radius: 8px;
  background: linear-gradient(135deg, var(--blue-light) 0%, #e3f2fd 100%);
  border-left: 4px solid var(--blue);
}

/* Export Panel Footer */
.export-panel-footer {
  background: var(--gray-50);
  border-top: 1px solid var(--gray-200);
  padding: 1.5rem;
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
}

.export-panel-footer .btn {
  padding: 0.5rem 1.5rem;
  font-weight: 600;
  border-radius: 6px;
  transition: all 0.2s ease;
}

.export-panel-footer .btn-success {
  background: linear-gradient(135deg, var(--success) 0%, var(--success-dark) 100%);
  border: none;
}

.export-panel-footer .btn-success:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(19, 115, 51, 0.3);
}

.export-panel-footer .btn-success:disabled {
  background: var(--gray-300);
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* Column Selection Buttons */
.export-panel-body .btn-outline-primary,
.export-panel-body .btn-outline-secondary {
  padding: 0.375rem 0.75rem;
  font-size: 0.875rem;
  border-radius: 4px;
  transition: all 0.2s ease;
}

.export-panel-body .btn-outline-primary:hover {
  background: var(--blue);
  border-color: var(--blue);
  transform: translateY(-1px);
}

.export-panel-body .btn-outline-secondary:hover {
  background: var(--gray-600);
  border-color: var(--gray-600);
  transform: translateY(-1px);
}

/* Column Search Styling */
#columnSearchInput {
  border-left: none;
  border-right: none;
}

#columnSearchInput:focus {
  box-shadow: none;
  border-color: var(--blue);
}

.export-panel .input-group-text {
  background: var(--blue);
  color: white;
  border-color: var(--blue);
}

#clearSearchBtn {
  border-left: none;
}

#columnSearchStatus {
  font-size: 0.85rem;
  color: var(--gray-600);
}

/* No results message */
.no-results-message {
  margin-top: 1rem;
  border: none;
  background: linear-gradient(135deg, #fff3cd 0%, #fef9e7 100%);
  border-left: 4px solid #ffc107;
}

/* Enhanced column items for search */
.export-column-item {
  transition: all 0.3s ease;
}

.export-column-item.search-highlight {
  border-color: var(--blue);
  background: var(--blue-light);
  transform: scale(1.02);
}

.export-column-item.search-hidden {
  display: none !important;
}

/* Profile Avatar Styles */
.profile-avatar-container {
  position: relative;
}

.profile-avatar {
  position: relative;
  display: inline-block;
  border-radius: 50%;
  overflow: hidden;
  width: 120px;
  height: 120px;
  margin: 0 auto;
  border: 3px solid #e9ecef;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.profile-avatar:hover {
  border-color: #007bff;
  transform: scale(1.05);
}

.avatar-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  border-radius: 50%;
}

.profile-avatar i {
  font-size: 4rem;
  color: #6c757d;
}

.avatar-actions {
  position: absolute;
  bottom: 5px;
  right: 5px;
}

.avatar-edit-btn {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid #fff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  background-color: #007bff;
  color: white;
  border-color: #007bff;
}

.avatar-edit-btn:hover {
  background-color: #0056b3;
  border-color: #0056b3;
  transform: scale(1.1);
  box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);
}

.avatar-edit-btn i {
  font-size: 12px;
}

/* Upload Area Styles */
.upload-area {
  border: 2px dashed #dee2e6;
  border-radius: 8px;
  padding: 2rem;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  background-color: #f8f9fa;
}

.upload-area:hover {
  border-color: #007bff;
  background-color: #e3f2fd;
}

.upload-area.drag-over {
  border-color: #007bff;
  background-color: #e3f2fd;
  transform: scale(1.02);
}

.upload-content {
  pointer-events: none;
}

.upload-preview {
  pointer-events: none;
}

/* Default Avatar Styles */
.default-avatars {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
}

.default-avatar-item {
  text-align: center;
}

.avatar-option {
  padding: 1rem;
  border: 2px solid #e9ecef;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  background-color: #fff;
}

.avatar-option:hover {
  border-color: #007bff;
  background-color: #e3f2fd;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2);
}

.avatar-option i {
  color: #6c757d;
  transition: color 0.3s ease;
}

.avatar-option:hover i {
  color: #007bff;
}

/* Current Avatar Preview */
.avatar-preview {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  overflow: hidden;
  margin: 0 auto;
  border: 2px solid #e9ecef;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f8f9fa;
}

.avatar-preview i {
  color: #6c757d;
}

/* Toast Container */
.toast-container {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 9999;
}

/* Responsive Design */
@media (max-width: 768px) {
  .default-avatars {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .upload-area {
    padding: 1.5rem;
  }
  
  .profile-avatar {
    width: 100px;
    height: 100px;
  }
  
  .profile-avatar i {
    font-size: 3.5rem;
  }
  
  .avatar-edit-btn {
    width: 28px;
    height: 28px;
  }
  
  .avatar-edit-btn i {
    font-size: 10px;
  }
}

/* Search input animations */
#columnSearchInput {
  transition: all 0.3s ease;
}

#columnSearchInput:focus {
  transform: scale(1.02);
  background: var(--blue-light);
}

/* Responsive Export Panel */
@media (max-width: 768px) {
  .export-panel {
    width: 100%;
    right: -100%;
  }
  
  #columnSearchInput {
    font-size: 16px; /* Prevent zoom on iOS */
  }
}

/* Table search bar styling */
#tableSearchInput {
    border-radius: 0.375rem 0 0 0.375rem;
    border-right: none;
    transition: all 0.3s ease;
}

#tableSearchInput:focus {
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
}

#clearSearchBtn {
    border-radius: 0 0.375rem 0.375rem 0;
    border-left: none;
    transition: all 0.3s ease;
}

#clearSearchBtn:hover {
    background-color: #f8f9fa;
    border-color: #dee2e6;
}

.input-group-text {
    background-color: #f8f9fa;
    border-color: #dee2e6;
    color: #6c757d;
}

/* No results message styling */
#noResultsMessage {
    animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}